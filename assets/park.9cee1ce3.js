var Uo=(a,e,t)=>{if(!e.has(a))throw TypeError("Cannot "+t)};var we=(a,e,t)=>{if(e.has(a))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(a):e.set(a,t)};var xe=(a,e,t)=>(Uo(a,e,"access private method"),t);import{b as Go,i as ct,d as ue,u as pe,r as it,g as Kr,f as In,e as Qr,w as Xo,h as Wo,T as No,j as Ho,k as ar,l as Yo,m as $o,n as Bn,p as qo,q as $i,o as je,s as Xt,t as Yt,c as ei,F as Zr,v as yi,E as lr,x as mn,y as Zi,z as _n,A as Ko,B as Jr,C as Qo,D as Zo,G as cr,H as Jo,I as ea,_ as ta,a as ia,J as Ji,K as St,L as ur,M as na,N as hr}from"./index.a3465ef0.js";import{O as wi,h as We,V as Y,a2 as U,Q as kt,aB as ra,a as qe,q as Gt,aC as fr,aD as dr,aE as en,C as ie,ap as sa,aF as oa,au as ui,b as At,u as aa,ab as pr,T as zn,p as Pi,D as es,aG as ts,aq as is,o as Ci,aH as la,aI as ca,G as Mi,Z as ns,aJ as tt,aw as mr,ax as ua,av as ha,az as rs,aK as jn,aL as fa,aM as da,W as pa,P as ss,S as _r,aN as ma,m as _a,n as ga,F as va,R as gr,a7 as vr,ac as yr,M as $t,aO as ya,r as _i,E as wa,X as ti,a1 as wr,H as Ei,Y as Ue,J as xa,L as os,c as as,_ as ba,aP as Ta,aQ as Sa,a0 as Pa,aR as $e,ad as Ca,ae as Ma,af as Ea,ag as ka,aS as Oa,aT as Da,ar as Aa,aU as La,aV as Ra}from"./three.module.52e72b23.js";import{O as Fa}from"./OrbitControls.8f993dfc.js";import{G as Ia,m as Ba}from"./GLTFLoader.c32b3780.js";import{D as za,W as ja}from"./DRACOLoader.330b7191.js";const Va=Symbol(),Ua=["","default","small","large"],Ga=Go({type:String,values:Ua,required:!1}),Xa=Symbol("size"),Wa=()=>{const a=ct(Xa,{});return ue(()=>pe(a.size)||"")},xr=it();function Na(a,e=void 0){const t=Kr()?ct(Va,xr):xr;return a?ue(()=>{var i,n;return(n=(i=t.value)==null?void 0:i[a])!=null?n:e}):t}const Ha=()=>{const a=ct(In,void 0),e=ct(Qr,void 0);return{form:a,formItem:e}},ls=a=>{const e=Kr();return ue(()=>{var t,i;return(i=(t=e==null?void 0:e.proxy)==null?void 0:t.$props)==null?void 0:i[a]})},Ya=(a,e={})=>{const t=it(void 0),i=e.prop?t:ls("size"),n=e.global?t:Wa(),r=e.form?{size:void 0}:ct(In,void 0),s=e.formItem?{size:void 0}:ct(Qr,void 0);return ue(()=>i.value||pe(a)||(s==null?void 0:s.size)||(r==null?void 0:r.size)||n.value||"")},cs=a=>{const e=ls("disabled"),t=ct(In,void 0);return ue(()=>e.value||pe(a)||(t==null?void 0:t.disabled)||!1)},us=Symbol("buttonGroupContextKey"),$a=({from:a,replacement:e,scope:t,version:i,ref:n,type:r="API"},s)=>{Xo(()=>pe(s),o=>{},{immediate:!0})},qa=(a,e)=>{$a({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},ue(()=>a.type==="text"));const t=ct(us,void 0),i=Na("button"),{form:n}=Ha(),r=Ya(ue(()=>t==null?void 0:t.size)),s=cs(),o=it(),l=Wo(),c=ue(()=>{var f;return a.type||(t==null?void 0:t.type)||((f=i.value)==null?void 0:f.type)||""}),u=ue(()=>{var f,g,v;return(v=(g=a.autoInsertSpace)!=null?g:(f=i.value)==null?void 0:f.autoInsertSpace)!=null?v:!1}),h=ue(()=>{var f,g,v;return(v=(g=a.plain)!=null?g:(f=i.value)==null?void 0:f.plain)!=null?v:!1}),m=ue(()=>{var f,g,v;return(v=(g=a.round)!=null?g:(f=i.value)==null?void 0:f.round)!=null?v:!1}),p=ue(()=>a.tag==="button"?{ariaDisabled:s.value||a.loading,disabled:s.value||a.loading,autofocus:a.autofocus,type:a.nativeType}:{}),_=ue(()=>{var f;const g=(f=l.default)==null?void 0:f.call(l);if(u.value&&(g==null?void 0:g.length)===1){const v=g[0];if((v==null?void 0:v.type)===No){const y=v.children;return/^\p{Unified_Ideograph}{2}$/u.test(y.trim())}}return!1});return{_disabled:s,_size:r,_type:c,_ref:o,_props:p,_plain:h,_round:m,shouldAddSpace:_,handleClick:f=>{if(s.value||a.loading){f.stopPropagation();return}a.nativeType==="reset"&&(n==null||n.resetFields()),e("click",f)}}},Ka=["default","primary","success","warning","info","danger","text",""],Qa=["button","submit","reset"],gn=Ho({size:Ga,disabled:Boolean,type:{type:String,values:Ka,default:""},icon:{type:ar},nativeType:{type:String,values:Qa,default:"button"},loading:Boolean,loadingIcon:{type:ar,default:()=>Yo},plain:{type:Boolean,default:void 0},text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:{type:Boolean,default:void 0},circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:$o([String,Object]),default:"button"}}),Za={click:a=>a instanceof MouseEvent};function Je(a,e=20){return a.mix("#141414",e).toString()}function Ja(a){const e=cs(),t=Bn("button");return ue(()=>{let i={},n=a.color;if(n){const r=n.match(/var\((.*?)\)/);r&&(n=window.getComputedStyle(window.document.documentElement).getPropertyValue(r[1]));const s=new qo(n),o=a.dark?s.tint(20).toString():Je(s,20);if(a.plain)i=t.cssVarBlock({"bg-color":a.dark?Je(s,90):s.tint(90).toString(),"text-color":n,"border-color":a.dark?Je(s,50):s.tint(50).toString(),"hover-text-color":`var(${t.cssVarName("color-white")})`,"hover-bg-color":n,"hover-border-color":n,"active-bg-color":o,"active-text-color":`var(${t.cssVarName("color-white")})`,"active-border-color":o}),e.value&&(i[t.cssVarBlockName("disabled-bg-color")]=a.dark?Je(s,90):s.tint(90).toString(),i[t.cssVarBlockName("disabled-text-color")]=a.dark?Je(s,50):s.tint(50).toString(),i[t.cssVarBlockName("disabled-border-color")]=a.dark?Je(s,80):s.tint(80).toString());else{const l=a.dark?Je(s,30):s.tint(30).toString(),c=s.isDark()?`var(${t.cssVarName("color-white")})`:`var(${t.cssVarName("color-black")})`;if(i=t.cssVarBlock({"bg-color":n,"text-color":c,"border-color":n,"hover-bg-color":l,"hover-text-color":c,"hover-border-color":l,"active-bg-color":o,"active-border-color":o}),e.value){const u=a.dark?Je(s,50):s.tint(50).toString();i[t.cssVarBlockName("disabled-bg-color")]=u,i[t.cssVarBlockName("disabled-text-color")]=a.dark?"rgba(255, 255, 255, 0.5)":`var(${t.cssVarName("color-white")})`,i[t.cssVarBlockName("disabled-border-color")]=u}}}return i})}const el=$i({name:"ElButton"}),tl=$i({...el,props:gn,emits:Za,setup(a,{expose:e,emit:t}){const i=a,n=Ja(i),r=Bn("button"),{_ref:s,_size:o,_type:l,_disabled:c,_props:u,_plain:h,_round:m,shouldAddSpace:p,handleClick:_}=qa(i,t),d=ue(()=>[r.b(),r.m(l.value),r.m(o.value),r.is("disabled",c.value),r.is("loading",i.loading),r.is("plain",h.value),r.is("round",m.value),r.is("circle",i.circle),r.is("text",i.text),r.is("link",i.link),r.is("has-bg",i.bg)]);return e({ref:s,size:o,type:l,disabled:c,shouldAddSpace:p}),(f,g)=>(je(),Xt(Zi(f.tag),Ko({ref_key:"_ref",ref:s},pe(u),{class:pe(d),style:pe(n),onClick:pe(_)}),{default:Yt(()=>[f.loading?(je(),ei(Zr,{key:0},[f.$slots.loading?yi(f.$slots,"loading",{key:0}):(je(),Xt(pe(lr),{key:1,class:mn(pe(r).is("loading"))},{default:Yt(()=>[(je(),Xt(Zi(f.loadingIcon)))]),_:1},8,["class"]))],64)):f.icon||f.$slots.icon?(je(),Xt(pe(lr),{key:1},{default:Yt(()=>[f.icon?(je(),Xt(Zi(f.icon),{key:0})):yi(f.$slots,"icon",{key:1})]),_:3})):_n("v-if",!0),f.$slots.default?(je(),ei("span",{key:2,class:mn({[pe(r).em("text","expand")]:pe(p)})},[yi(f.$slots,"default")],2)):_n("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var il=Jr(tl,[["__file","button.vue"]]);const nl={size:gn.size,type:gn.type},rl=$i({name:"ElButtonGroup"}),sl=$i({...rl,props:nl,setup(a){const e=a;Qo(us,Zo({size:cr(e,"size"),type:cr(e,"type")}));const t=Bn("button");return(i,n)=>(je(),ei("div",{class:mn(pe(t).b("group"))},[yi(i.$slots,"default")],2))}});var hs=Jr(sl,[["__file","button-group.vue"]]);const ol=Jo(il,{ButtonGroup:hs});ea(hs);function He(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function fs(a,e){a.prototype=Object.create(e.prototype),a.prototype.constructor=a,a.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Ce={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},It={duration:.5,overwrite:!1,delay:0},Vn,re,N,Ae=1e8,X=1/Ae,vn=Math.PI*2,al=vn/4,ll=0,ds=Math.sqrt,cl=Math.cos,ul=Math.sin,ne=function(e){return typeof e=="string"},Q=function(e){return typeof e=="function"},Ke=function(e){return typeof e=="number"},Un=function(e){return typeof e>"u"},Ne=function(e){return typeof e=="object"},me=function(e){return e!==!1},Gn=function(){return typeof window<"u"},gi=function(e){return Q(e)||ne(e)},ps=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},oe=Array.isArray,yn=/(?:-?\.?\d|\.)+/gi,ms=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Ot=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,tn=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,_s=/[+-]=-?[.\d]+/,gs=/[^,'"\[\]\s]+/gi,hl=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,H,Ve,wn,Xn,Me={},ki={},vs,ys=function(e){return(ki=Bt(e,Me))&&ye},Wn=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},ii=function(e,t){return!t&&console.warn(e)},ws=function(e,t){return e&&(Me[e]=t)&&ki&&(ki[e]=t)||Me},ni=function(){return 0},fl={suppressEvents:!0,isStart:!0,kill:!1},xi={suppressEvents:!0,kill:!1},dl={suppressEvents:!0},Nn={},at=[],xn={},xs,Te={},nn={},br=30,bi=[],Hn="",Yn=function(e){var t=e[0],i,n;if(Ne(t)||Q(t)||(e=[e]),!(i=(t._gsap||{}).harness)){for(n=bi.length;n--&&!bi[n].targetTest(t););i=bi[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new Ns(e[n],i)))||e.splice(n,1);return e},vt=function(e){return e._gsap||Yn(Le(e))[0]._gsap},bs=function(e,t,i){return(i=e[t])&&Q(i)?e[t]():Un(i)&&e.getAttribute&&e.getAttribute(t)||i},_e=function(e,t){return(e=e.split(",")).forEach(t)||e},J=function(e){return Math.round(e*1e5)/1e5||0},te=function(e){return Math.round(e*1e7)/1e7||0},Lt=function(e,t){var i=t.charAt(0),n=parseFloat(t.substr(2));return e=parseFloat(e),i==="+"?e+n:i==="-"?e-n:i==="*"?e*n:e/n},pl=function(e,t){for(var i=t.length,n=0;e.indexOf(t[n])<0&&++n<i;);return n<i},Oi=function(){var e=at.length,t=at.slice(0),i,n;for(xn={},at.length=0,i=0;i<e;i++)n=t[i],n&&n._lazy&&(n.render(n._lazy[0],n._lazy[1],!0)._lazy=0)},$n=function(e){return!!(e._initted||e._startAt||e.add)},Ts=function(e,t,i,n){at.length&&!re&&Oi(),e.render(t,i,n||!!(re&&t<0&&$n(e))),at.length&&!re&&Oi()},Ss=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(gs).length<2?t:ne(e)?e.trim():e},Ps=function(e){return e},Ee=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},ml=function(e){return function(t,i){for(var n in i)n in t||n==="duration"&&e||n==="ease"||(t[n]=i[n])}},Bt=function(e,t){for(var i in t)e[i]=t[i];return e},Tr=function a(e,t){for(var i in t)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(e[i]=Ne(t[i])?a(e[i]||(e[i]={}),t[i]):t[i]);return e},Di=function(e,t){var i={},n;for(n in e)n in t||(i[n]=e[n]);return i},qt=function(e){var t=e.parent||H,i=e.keyframes?ml(oe(e.keyframes)):Ee;if(me(e.inherit))for(;t;)i(e,t.vars.defaults),t=t.parent||t._dp;return e},_l=function(e,t){for(var i=e.length,n=i===t.length;n&&i--&&e[i]===t[i];);return i<0},Cs=function(e,t,i,n,r){i===void 0&&(i="_first"),n===void 0&&(n="_last");var s=e[n],o;if(r)for(o=t[r];s&&s[r]>o;)s=s._prev;return s?(t._next=s._next,s._next=t):(t._next=e[i],e[i]=t),t._next?t._next._prev=t:e[n]=t,t._prev=s,t.parent=t._dp=e,t},qi=function(e,t,i,n){i===void 0&&(i="_first"),n===void 0&&(n="_last");var r=t._prev,s=t._next;r?r._next=s:e[i]===t&&(e[i]=s),s?s._prev=r:e[n]===t&&(e[n]=r),t._next=t._prev=t.parent=null},ut=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},yt=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var i=e;i;)i._dirty=1,i=i.parent;return e},gl=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},bn=function(e,t,i,n){return e._startAt&&(re?e._startAt.revert(xi):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,n))},vl=function a(e){return!e||e._ts&&a(e.parent)},Sr=function(e){return e._repeat?zt(e._tTime,e=e.duration()+e._rDelay)*e:0},zt=function(e,t){var i=Math.floor(e=te(e/t));return e&&i===e?i-1:i},Ai=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Ki=function(e){return e._end=te(e._start+(e._tDur/Math.abs(e._ts||e._rts||X)||0))},Qi=function(e,t){var i=e._dp;return i&&i.smoothChildTiming&&e._ts&&(e._start=te(i._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Ki(e),i._dirty||yt(i,e)),e},Ms=function(e,t){var i;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(i=Ai(e.rawTime(),t),(!t._dur||hi(0,t.totalDuration(),i)-t._tTime>X)&&t.render(i,!0)),yt(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(i=e;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;e._zTime=-X}},Ge=function(e,t,i,n){return t.parent&&ut(t),t._start=te((Ke(i)?i:i||e!==H?Oe(e,i,t):e._time)+t._delay),t._end=te(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),Cs(e,t,"_first","_last",e._sort?"_start":0),Tn(t)||(e._recent=t),n||Ms(e,t),e._ts<0&&Qi(e,e._tTime),e},Es=function(e,t){return(Me.ScrollTrigger||Wn("scrollTrigger",t))&&Me.ScrollTrigger.create(t,e)},ks=function(e,t,i,n,r){if(Kn(e,t,r),!e._initted)return 1;if(!i&&e._pt&&!re&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&xs!==Se.frame)return at.push(e),e._lazy=[r,n],1},yl=function a(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||a(t))},Tn=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},wl=function(e,t,i,n){var r=e.ratio,s=t<0||!t&&(!e._start&&yl(e)&&!(!e._initted&&Tn(e))||(e._ts<0||e._dp._ts<0)&&!Tn(e))?0:1,o=e._rDelay,l=0,c,u,h;if(o&&e._repeat&&(l=hi(0,e._tDur,t),u=zt(l,o),e._yoyo&&u&1&&(s=1-s),u!==zt(e._tTime,o)&&(r=1-s,e.vars.repeatRefresh&&e._initted&&e.invalidate())),s!==r||re||n||e._zTime===X||!t&&e._zTime){if(!e._initted&&ks(e,t,n,i,l))return;for(h=e._zTime,e._zTime=t||(i?X:0),i||(i=t&&!h),e.ratio=s,e._from&&(s=1-s),e._time=0,e._tTime=l,c=e._pt;c;)c.r(s,c.d),c=c._next;t<0&&bn(e,t,i,!0),e._onUpdate&&!i&&Pe(e,"onUpdate"),l&&e._repeat&&!i&&e.parent&&Pe(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===s&&(s&&ut(e,1),!i&&!re&&(Pe(e,s?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},xl=function(e,t,i){var n;if(i>t)for(n=e._first;n&&n._start<=i;){if(n.data==="isPause"&&n._start>t)return n;n=n._next}else for(n=e._last;n&&n._start>=i;){if(n.data==="isPause"&&n._start<t)return n;n=n._prev}},jt=function(e,t,i,n){var r=e._repeat,s=te(t)||0,o=e._tTime/e._tDur;return o&&!n&&(e._time*=s/e._dur),e._dur=s,e._tDur=r?r<0?1e10:te(s*(r+1)+e._rDelay*r):s,o>0&&!n&&Qi(e,e._tTime=e._tDur*o),e.parent&&Ki(e),i||yt(e.parent,e),e},Pr=function(e){return e instanceof he?yt(e):jt(e,e._dur)},bl={_start:0,endTime:ni,totalDuration:ni},Oe=function a(e,t,i){var n=e.labels,r=e._recent||bl,s=e.duration()>=Ae?r.endTime(!1):e._dur,o,l,c;return ne(t)&&(isNaN(t)||t in n)?(l=t.charAt(0),c=t.substr(-1)==="%",o=t.indexOf("="),l==="<"||l===">"?(o>=0&&(t=t.replace(/=/,"")),(l==="<"?r._start:r.endTime(r._repeat>=0))+(parseFloat(t.substr(1))||0)*(c?(o<0?r:i).totalDuration()/100:1)):o<0?(t in n||(n[t]=s),n[t]):(l=parseFloat(t.charAt(o-1)+t.substr(o+1)),c&&i&&(l=l/100*(oe(i)?i[0]:i).totalDuration()),o>1?a(e,t.substr(0,o-1),i)+l:s+l)):t==null?s:+t},Kt=function(e,t,i){var n=Ke(t[1]),r=(n?2:1)+(e<2?0:1),s=t[r],o,l;if(n&&(s.duration=t[1]),s.parent=i,e){for(o=s,l=i;l&&!("immediateRender"in o);)o=l.vars.defaults||{},l=me(l.vars.inherit)&&l.parent;s.immediateRender=me(o.immediateRender),e<2?s.runBackwards=1:s.startAt=t[r-1]}return new ee(t[0],s,t[r+1])},ft=function(e,t){return e||e===0?t(e):t},hi=function(e,t,i){return i<e?e:i>t?t:i},se=function(e,t){return!ne(e)||!(t=hl.exec(e))?"":t[1]},Tl=function(e,t,i){return ft(i,function(n){return hi(e,t,n)})},Sn=[].slice,Os=function(e,t){return e&&Ne(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Ne(e[0]))&&!e.nodeType&&e!==Ve},Sl=function(e,t,i){return i===void 0&&(i=[]),e.forEach(function(n){var r;return ne(n)&&!t||Os(n,1)?(r=i).push.apply(r,Le(n)):i.push(n)})||i},Le=function(e,t,i){return N&&!t&&N.selector?N.selector(e):ne(e)&&!i&&(wn||!Vt())?Sn.call((t||Xn).querySelectorAll(e),0):oe(e)?Sl(e,i):Os(e)?Sn.call(e,0):e?[e]:[]},Pn=function(e){return e=Le(e)[0]||ii("Invalid scope")||{},function(t){var i=e.current||e.nativeElement||e;return Le(t,i.querySelectorAll?i:i===e?ii("Invalid scope")||Xn.createElement("div"):e)}},Ds=function(e){return e.sort(function(){return .5-Math.random()})},As=function(e){if(Q(e))return e;var t=Ne(e)?e:{each:e},i=wt(t.ease),n=t.from||0,r=parseFloat(t.base)||0,s={},o=n>0&&n<1,l=isNaN(n)||o,c=t.axis,u=n,h=n;return ne(n)?u=h={center:.5,edges:.5,end:1}[n]||0:!o&&l&&(u=n[0],h=n[1]),function(m,p,_){var d=(_||t).length,f=s[d],g,v,y,b,w,T,S,P,C;if(!f){if(C=t.grid==="auto"?0:(t.grid||[1,Ae])[1],!C){for(S=-Ae;S<(S=_[C++].getBoundingClientRect().left)&&C<d;);C<d&&C--}for(f=s[d]=[],g=l?Math.min(C,d)*u-.5:n%C,v=C===Ae?0:l?d*h/C-.5:n/C|0,S=0,P=Ae,T=0;T<d;T++)y=T%C-g,b=v-(T/C|0),f[T]=w=c?Math.abs(c==="y"?b:y):ds(y*y+b*b),w>S&&(S=w),w<P&&(P=w);n==="random"&&Ds(f),f.max=S-P,f.min=P,f.v=d=(parseFloat(t.amount)||parseFloat(t.each)*(C>d?d-1:c?c==="y"?d/C:C:Math.max(C,d/C))||0)*(n==="edges"?-1:1),f.b=d<0?r-d:r,f.u=se(t.amount||t.each)||0,i=i&&d<0?Gs(i):i}return d=(f[m]-f.min)/f.max||0,te(f.b+(i?i(d):d)*f.v)+f.u}},Cn=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(i){var n=te(Math.round(parseFloat(i)/e)*e*t);return(n-n%1)/t+(Ke(i)?0:se(i))}},Ls=function(e,t){var i=oe(e),n,r;return!i&&Ne(e)&&(n=i=e.radius||Ae,e.values?(e=Le(e.values),(r=!Ke(e[0]))&&(n*=n)):e=Cn(e.increment)),ft(t,i?Q(e)?function(s){return r=e(s),Math.abs(r-s)<=n?r:s}:function(s){for(var o=parseFloat(r?s.x:s),l=parseFloat(r?s.y:0),c=Ae,u=0,h=e.length,m,p;h--;)r?(m=e[h].x-o,p=e[h].y-l,m=m*m+p*p):m=Math.abs(e[h]-o),m<c&&(c=m,u=h);return u=!n||c<=n?e[u]:s,r||u===s||Ke(s)?u:u+se(s)}:Cn(e))},Rs=function(e,t,i,n){return ft(oe(e)?!t:i===!0?!!(i=0):!n,function(){return oe(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(n=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((e-i/2+Math.random()*(t-e+i*.99))/i)*i*n)/n})},Pl=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(n){return t.reduce(function(r,s){return s(r)},n)}},Cl=function(e,t){return function(i){return e(parseFloat(i))+(t||se(i))}},Ml=function(e,t,i){return Is(e,t,0,1,i)},Fs=function(e,t,i){return ft(i,function(n){return e[~~t(n)]})},El=function a(e,t,i){var n=t-e;return oe(e)?Fs(e,a(0,e.length),t):ft(i,function(r){return(n+(r-e)%n)%n+e})},kl=function a(e,t,i){var n=t-e,r=n*2;return oe(e)?Fs(e,a(0,e.length-1),t):ft(i,function(s){return s=(r+(s-e)%r)%r||0,e+(s>n?r-s:s)})},ri=function(e){for(var t=0,i="",n,r,s,o;~(n=e.indexOf("random(",t));)s=e.indexOf(")",n),o=e.charAt(n+7)==="[",r=e.substr(n+7,s-n-7).match(o?gs:yn),i+=e.substr(t,n-t)+Rs(o?r:+r[0],o?0:+r[1],+r[2]||1e-5),t=s+1;return i+e.substr(t,e.length-t)},Is=function(e,t,i,n,r){var s=t-e,o=n-i;return ft(r,function(l){return i+((l-e)/s*o||0)})},Ol=function a(e,t,i,n){var r=isNaN(e+t)?0:function(p){return(1-p)*e+p*t};if(!r){var s=ne(e),o={},l,c,u,h,m;if(i===!0&&(n=1)&&(i=null),s)e={p:e},t={p:t};else if(oe(e)&&!oe(t)){for(u=[],h=e.length,m=h-2,c=1;c<h;c++)u.push(a(e[c-1],e[c]));h--,r=function(_){_*=h;var d=Math.min(m,~~_);return u[d](_-d)},i=t}else n||(e=Bt(oe(e)?[]:{},e));if(!u){for(l in t)qn.call(o,e,l,"get",t[l]);r=function(_){return Jn(_,o)||(s?e.p:e)}}}return ft(i,r)},Cr=function(e,t,i){var n=e.labels,r=Ae,s,o,l;for(s in n)o=n[s]-t,o<0==!!i&&o&&r>(o=Math.abs(o))&&(l=s,r=o);return l},Pe=function(e,t,i){var n=e.vars,r=n[t],s=N,o=e._ctx,l,c,u;if(!!r)return l=n[t+"Params"],c=n.callbackScope||e,i&&at.length&&Oi(),o&&(N=o),u=l?r.apply(c,l):r.call(c),N=s,u},Nt=function(e){return ut(e),e.scrollTrigger&&e.scrollTrigger.kill(!!re),e.progress()<1&&Pe(e,"onInterrupt"),e},Dt,Bs=[],zs=function(e){if(!!e)if(e=!e.name&&e.default||e,Gn()||e.headless){var t=e.name,i=Q(e),n=t&&!i&&e.init?function(){this._props=[]}:e,r={init:ni,render:Jn,add:qn,kill:Hl,modifier:Nl,rawVars:0},s={targetTest:0,get:0,getSetter:Zn,aliases:{},register:0};if(Vt(),e!==n){if(Te[t])return;Ee(n,Ee(Di(e,r),s)),Bt(n.prototype,Bt(r,Di(e,s))),Te[n.prop=t]=n,e.targetTest&&(bi.push(n),Nn[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}ws(t,n),e.register&&e.register(ye,n,ge)}else Bs.push(e)},G=255,Ht={aqua:[0,G,G],lime:[0,G,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,G],navy:[0,0,128],white:[G,G,G],olive:[128,128,0],yellow:[G,G,0],orange:[G,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[G,0,0],pink:[G,192,203],cyan:[0,G,G],transparent:[G,G,G,0]},rn=function(e,t,i){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(i-t)*e*6:e<.5?i:e*3<2?t+(i-t)*(2/3-e)*6:t)*G+.5|0},js=function(e,t,i){var n=e?Ke(e)?[e>>16,e>>8&G,e&G]:0:Ht.black,r,s,o,l,c,u,h,m,p,_;if(!n){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Ht[e])n=Ht[e];else if(e.charAt(0)==="#"){if(e.length<6&&(r=e.charAt(1),s=e.charAt(2),o=e.charAt(3),e="#"+r+r+s+s+o+o+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return n=parseInt(e.substr(1,6),16),[n>>16,n>>8&G,n&G,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),n=[e>>16,e>>8&G,e&G]}else if(e.substr(0,3)==="hsl"){if(n=_=e.match(yn),!t)l=+n[0]%360/360,c=+n[1]/100,u=+n[2]/100,s=u<=.5?u*(c+1):u+c-u*c,r=u*2-s,n.length>3&&(n[3]*=1),n[0]=rn(l+1/3,r,s),n[1]=rn(l,r,s),n[2]=rn(l-1/3,r,s);else if(~e.indexOf("="))return n=e.match(ms),i&&n.length<4&&(n[3]=1),n}else n=e.match(yn)||Ht.transparent;n=n.map(Number)}return t&&!_&&(r=n[0]/G,s=n[1]/G,o=n[2]/G,h=Math.max(r,s,o),m=Math.min(r,s,o),u=(h+m)/2,h===m?l=c=0:(p=h-m,c=u>.5?p/(2-h-m):p/(h+m),l=h===r?(s-o)/p+(s<o?6:0):h===s?(o-r)/p+2:(r-s)/p+4,l*=60),n[0]=~~(l+.5),n[1]=~~(c*100+.5),n[2]=~~(u*100+.5)),i&&n.length<4&&(n[3]=1),n},Vs=function(e){var t=[],i=[],n=-1;return e.split(lt).forEach(function(r){var s=r.match(Ot)||[];t.push.apply(t,s),i.push(n+=s.length+1)}),t.c=i,t},Mr=function(e,t,i){var n="",r=(e+n).match(lt),s=t?"hsla(":"rgba(",o=0,l,c,u,h;if(!r)return e;if(r=r.map(function(m){return(m=js(m,t,1))&&s+(t?m[0]+","+m[1]+"%,"+m[2]+"%,"+m[3]:m.join(","))+")"}),i&&(u=Vs(e),l=i.c,l.join(n)!==u.c.join(n)))for(c=e.replace(lt,"1").split(Ot),h=c.length-1;o<h;o++)n+=c[o]+(~l.indexOf(o)?r.shift()||s+"0,0,0,0)":(u.length?u:r.length?r:i).shift());if(!c)for(c=e.split(lt),h=c.length-1;o<h;o++)n+=c[o]+r[o];return n+c[h]},lt=function(){var a="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Ht)a+="|"+e+"\\b";return new RegExp(a+")","gi")}(),Dl=/hsl[a]?\(/,Us=function(e){var t=e.join(" "),i;if(lt.lastIndex=0,lt.test(t))return i=Dl.test(t),e[1]=Mr(e[1],i),e[0]=Mr(e[0],i,Vs(e[1])),!0},si,Se=function(){var a=Date.now,e=500,t=33,i=a(),n=i,r=1e3/240,s=r,o=[],l,c,u,h,m,p,_=function d(f){var g=a()-n,v=f===!0,y,b,w,T;if((g>e||g<0)&&(i+=g-t),n+=g,w=n-i,y=w-s,(y>0||v)&&(T=++h.frame,m=w-h.time*1e3,h.time=w=w/1e3,s+=y+(y>=r?4:r-y),b=1),v||(l=c(d)),b)for(p=0;p<o.length;p++)o[p](w,m,T,f)};return h={time:0,frame:0,tick:function(){_(!0)},deltaRatio:function(f){return m/(1e3/(f||60))},wake:function(){vs&&(!wn&&Gn()&&(Ve=wn=window,Xn=Ve.document||{},Me.gsap=ye,(Ve.gsapVersions||(Ve.gsapVersions=[])).push(ye.version),ys(ki||Ve.GreenSockGlobals||!Ve.gsap&&Ve||{}),Bs.forEach(zs)),u=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&h.sleep(),c=u||function(f){return setTimeout(f,s-h.time*1e3+1|0)},si=1,_(2))},sleep:function(){(u?cancelAnimationFrame:clearTimeout)(l),si=0,c=ni},lagSmoothing:function(f,g){e=f||1/0,t=Math.min(g||33,e)},fps:function(f){r=1e3/(f||240),s=h.time*1e3+r},add:function(f,g,v){var y=g?function(b,w,T,S){f(b,w,T,S),h.remove(y)}:f;return h.remove(f),o[v?"unshift":"push"](y),Vt(),y},remove:function(f,g){~(g=o.indexOf(f))&&o.splice(g,1)&&p>=g&&p--},_listeners:o},h}(),Vt=function(){return!si&&Se.wake()},F={},Al=/^[\d.\-M][\d.\-,\s]/,Ll=/["']/g,Rl=function(e){for(var t={},i=e.substr(1,e.length-3).split(":"),n=i[0],r=1,s=i.length,o,l,c;r<s;r++)l=i[r],o=r!==s-1?l.lastIndexOf(","):l.length,c=l.substr(0,o),t[n]=isNaN(c)?c.replace(Ll,"").trim():+c,n=l.substr(o+1).trim();return t},Fl=function(e){var t=e.indexOf("(")+1,i=e.indexOf(")"),n=e.indexOf("(",t);return e.substring(t,~n&&n<i?e.indexOf(")",i+1):i)},Il=function(e){var t=(e+"").split("("),i=F[t[0]];return i&&t.length>1&&i.config?i.config.apply(null,~e.indexOf("{")?[Rl(t[1])]:Fl(e).split(",").map(Ss)):F._CE&&Al.test(e)?F._CE("",e):i},Gs=function(e){return function(t){return 1-e(1-t)}},Xs=function a(e,t){for(var i=e._first,n;i;)i instanceof he?a(i,t):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==t&&(i.timeline?a(i.timeline,t):(n=i._ease,i._ease=i._yEase,i._yEase=n,i._yoyo=t)),i=i._next},wt=function(e,t){return e&&(Q(e)?e:F[e]||Il(e))||t},Tt=function(e,t,i,n){i===void 0&&(i=function(l){return 1-t(1-l)}),n===void 0&&(n=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var r={easeIn:t,easeOut:i,easeInOut:n},s;return _e(e,function(o){F[o]=Me[o]=r,F[s=o.toLowerCase()]=i;for(var l in r)F[s+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=F[o+"."+l]=r[l]}),r},Ws=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},sn=function a(e,t,i){var n=t>=1?t:1,r=(i||(e?.3:.45))/(t<1?t:1),s=r/vn*(Math.asin(1/n)||0),o=function(u){return u===1?1:n*Math.pow(2,-10*u)*ul((u-s)*r)+1},l=e==="out"?o:e==="in"?function(c){return 1-o(1-c)}:Ws(o);return r=vn/r,l.config=function(c,u){return a(e,c,u)},l},on=function a(e,t){t===void 0&&(t=1.70158);var i=function(s){return s?--s*s*((t+1)*s+t)+1:0},n=e==="out"?i:e==="in"?function(r){return 1-i(1-r)}:Ws(i);return n.config=function(r){return a(e,r)},n};_e("Linear,Quad,Cubic,Quart,Quint,Strong",function(a,e){var t=e<5?e+1:e;Tt(a+",Power"+(t-1),e?function(i){return Math.pow(i,t)}:function(i){return i},function(i){return 1-Math.pow(1-i,t)},function(i){return i<.5?Math.pow(i*2,t)/2:1-Math.pow((1-i)*2,t)/2})});F.Linear.easeNone=F.none=F.Linear.easeIn;Tt("Elastic",sn("in"),sn("out"),sn());(function(a,e){var t=1/e,i=2*t,n=2.5*t,r=function(o){return o<t?a*o*o:o<i?a*Math.pow(o-1.5/e,2)+.75:o<n?a*(o-=2.25/e)*o+.9375:a*Math.pow(o-2.625/e,2)+.984375};Tt("Bounce",function(s){return 1-r(1-s)},r)})(7.5625,2.75);Tt("Expo",function(a){return Math.pow(2,10*(a-1))*a+a*a*a*a*a*a*(1-a)});Tt("Circ",function(a){return-(ds(1-a*a)-1)});Tt("Sine",function(a){return a===1?1:-cl(a*al)+1});Tt("Back",on("in"),on("out"),on());F.SteppedEase=F.steps=Me.SteppedEase={config:function(e,t){e===void 0&&(e=1);var i=1/e,n=e+(t?0:1),r=t?1:0,s=1-X;return function(o){return((n*hi(0,s,o)|0)+r)*i}}};It.ease=F["quad.out"];_e("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(a){return Hn+=a+","+a+"Params,"});var Ns=function(e,t){this.id=ll++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:bs,this.set=t?t.getSetter:Zn},oi=function(){function a(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,jt(this,+t.duration,1,1),this.data=t.data,N&&(this._ctx=N,N.data.push(this)),si||Se.wake()}var e=a.prototype;return e.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},e.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},e.totalDuration=function(i){return arguments.length?(this._dirty=0,jt(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(i,n){if(Vt(),!arguments.length)return this._tTime;var r=this._dp;if(r&&r.smoothChildTiming&&this._ts){for(Qi(this,i),!r._dp||r.parent||Ms(r,this);r&&r.parent;)r.parent._time!==r._start+(r._ts>=0?r._tTime/r._ts:(r.totalDuration()-r._tTime)/-r._ts)&&r.totalTime(r._tTime,!0),r=r.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&Ge(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!n||this._initted&&Math.abs(this._zTime)===X||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),Ts(this,i,n)),this},e.time=function(i,n){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+Sr(this))%(this._dur+this._rDelay)||(i?this._dur:0),n):this._time},e.totalProgress=function(i,n){return arguments.length?this.totalTime(this.totalDuration()*i,n):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(i,n){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+Sr(this),n):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(i,n){var r=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*r,n):this._repeat?zt(this._tTime,r)+1:1},e.timeScale=function(i,n){if(!arguments.length)return this._rts===-X?0:this._rts;if(this._rts===i)return this;var r=this.parent&&this._ts?Ai(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-X?0:this._rts,this.totalTime(hi(-Math.abs(this._delay),this.totalDuration(),r),n!==!1),Ki(this),gl(this)},e.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Vt(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==X&&(this._tTime-=X)))),this):this._ps},e.startTime=function(i){if(arguments.length){this._start=i;var n=this.parent||this._dp;return n&&(n._sort||!this.parent)&&Ge(n,this,i-this._delay),this}return this._start},e.endTime=function(i){return this._start+(me(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(i){var n=this.parent||this._dp;return n?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Ai(n.rawTime(i),this):this._tTime:this._tTime},e.revert=function(i){i===void 0&&(i=dl);var n=re;return re=i,$n(this)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),this.data!=="nested"&&i.kill!==!1&&this.kill(),re=n,this},e.globalTime=function(i){for(var n=this,r=arguments.length?i:n.rawTime();n;)r=n._start+r/(Math.abs(n._ts)||1),n=n._dp;return!this.parent&&this._sat?this._sat.globalTime(i):r},e.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,Pr(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(i){if(arguments.length){var n=this._time;return this._rDelay=i,Pr(this),n?this.time(n):this}return this._rDelay},e.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},e.seek=function(i,n){return this.totalTime(Oe(this,i),me(n))},e.restart=function(i,n){return this.play().totalTime(i?-this._delay:0,me(n)),this._dur||(this._zTime=-X),this},e.play=function(i,n){return i!=null&&this.seek(i,n),this.reversed(!1).paused(!1)},e.reverse=function(i,n){return i!=null&&this.seek(i||this.totalDuration(),n),this.reversed(!0).paused(!1)},e.pause=function(i,n){return i!=null&&this.seek(i,n),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-X:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-X,this},e.isActive=function(){var i=this.parent||this._dp,n=this._start,r;return!!(!i||this._ts&&this._initted&&i.isActive()&&(r=i.rawTime(!0))>=n&&r<this.endTime(!0)-X)},e.eventCallback=function(i,n,r){var s=this.vars;return arguments.length>1?(n?(s[i]=n,r&&(s[i+"Params"]=r),i==="onUpdate"&&(this._onUpdate=n)):delete s[i],this):s[i]},e.then=function(i){var n=this;return new Promise(function(r){var s=Q(i)?i:Ps,o=function(){var c=n.then;n.then=null,Q(s)&&(s=s(n))&&(s.then||s===n)&&(n.then=c),r(s),n.then=c};n._initted&&n.totalProgress()===1&&n._ts>=0||!n._tTime&&n._ts<0?o():n._prom=o})},e.kill=function(){Nt(this)},a}();Ee(oi.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-X,_prom:0,_ps:!1,_rts:1});var he=function(a){fs(e,a);function e(i,n){var r;return i===void 0&&(i={}),r=a.call(this,i)||this,r.labels={},r.smoothChildTiming=!!i.smoothChildTiming,r.autoRemoveChildren=!!i.autoRemoveChildren,r._sort=me(i.sortChildren),H&&Ge(i.parent||H,He(r),n),i.reversed&&r.reverse(),i.paused&&r.paused(!0),i.scrollTrigger&&Es(He(r),i.scrollTrigger),r}var t=e.prototype;return t.to=function(n,r,s){return Kt(0,arguments,this),this},t.from=function(n,r,s){return Kt(1,arguments,this),this},t.fromTo=function(n,r,s,o){return Kt(2,arguments,this),this},t.set=function(n,r,s){return r.duration=0,r.parent=this,qt(r).repeatDelay||(r.repeat=0),r.immediateRender=!!r.immediateRender,new ee(n,r,Oe(this,s),1),this},t.call=function(n,r,s){return Ge(this,ee.delayedCall(0,n,r),s)},t.staggerTo=function(n,r,s,o,l,c,u){return s.duration=r,s.stagger=s.stagger||o,s.onComplete=c,s.onCompleteParams=u,s.parent=this,new ee(n,s,Oe(this,l)),this},t.staggerFrom=function(n,r,s,o,l,c,u){return s.runBackwards=1,qt(s).immediateRender=me(s.immediateRender),this.staggerTo(n,r,s,o,l,c,u)},t.staggerFromTo=function(n,r,s,o,l,c,u,h){return o.startAt=s,qt(o).immediateRender=me(o.immediateRender),this.staggerTo(n,r,o,l,c,u,h)},t.render=function(n,r,s){var o=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,u=n<=0?0:te(n),h=this._zTime<0!=n<0&&(this._initted||!c),m,p,_,d,f,g,v,y,b,w,T,S;if(this!==H&&u>l&&n>=0&&(u=l),u!==this._tTime||s||h){if(o!==this._time&&c&&(u+=this._time-o,n+=this._time-o),m=u,b=this._start,y=this._ts,g=!y,h&&(c||(o=this._zTime),(n||!r)&&(this._zTime=n)),this._repeat){if(T=this._yoyo,f=c+this._rDelay,this._repeat<-1&&n<0)return this.totalTime(f*100+n,r,s);if(m=te(u%f),u===l?(d=this._repeat,m=c):(w=te(u/f),d=~~w,d&&d===w&&(m=c,d--),m>c&&(m=c)),w=zt(this._tTime,f),!o&&this._tTime&&w!==d&&this._tTime-w*f-this._dur<=0&&(w=d),T&&d&1&&(m=c-m,S=1),d!==w&&!this._lock){var P=T&&w&1,C=P===(T&&d&1);if(d<w&&(P=!P),o=P?0:u%c?c:u,this._lock=1,this.render(o||(S?0:te(d*f)),r,!c)._lock=0,this._tTime=u,!r&&this.parent&&Pe(this,"onRepeat"),this.vars.repeatRefresh&&!S&&(this.invalidate()._lock=1),o&&o!==this._time||g!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,C&&(this._lock=2,o=P?c:-1e-4,this.render(o,!0),this.vars.repeatRefresh&&!S&&this.invalidate()),this._lock=0,!this._ts&&!g)return this;Xs(this,S)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(v=xl(this,te(o),te(m)),v&&(u-=m-(m=v._start))),this._tTime=u,this._time=m,this._act=!y,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=n,o=0),!o&&u&&!r&&!w&&(Pe(this,"onStart"),this._tTime!==u))return this;if(m>=o&&n>=0)for(p=this._first;p;){if(_=p._next,(p._act||m>=p._start)&&p._ts&&v!==p){if(p.parent!==this)return this.render(n,r,s);if(p.render(p._ts>0?(m-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(m-p._start)*p._ts,r,s),m!==this._time||!this._ts&&!g){v=0,_&&(u+=this._zTime=-X);break}}p=_}else{p=this._last;for(var k=n<0?n:m;p;){if(_=p._prev,(p._act||k<=p._end)&&p._ts&&v!==p){if(p.parent!==this)return this.render(n,r,s);if(p.render(p._ts>0?(k-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(k-p._start)*p._ts,r,s||re&&$n(p)),m!==this._time||!this._ts&&!g){v=0,_&&(u+=this._zTime=k?-X:X);break}}p=_}}if(v&&!r&&(this.pause(),v.render(m>=o?0:-X)._zTime=m>=o?1:-1,this._ts))return this._start=b,Ki(this),this.render(n,r,s);this._onUpdate&&!r&&Pe(this,"onUpdate",!0),(u===l&&this._tTime>=this.totalDuration()||!u&&o)&&(b===this._start||Math.abs(y)!==Math.abs(this._ts))&&(this._lock||((n||!c)&&(u===l&&this._ts>0||!u&&this._ts<0)&&ut(this,1),!r&&!(n<0&&!o)&&(u||o||!l)&&(Pe(this,u===l&&n>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(n,r){var s=this;if(Ke(r)||(r=Oe(this,r,n)),!(n instanceof oi)){if(oe(n))return n.forEach(function(o){return s.add(o,r)}),this;if(ne(n))return this.addLabel(n,r);if(Q(n))n=ee.delayedCall(0,n);else return this}return this!==n?Ge(this,n,r):this},t.getChildren=function(n,r,s,o){n===void 0&&(n=!0),r===void 0&&(r=!0),s===void 0&&(s=!0),o===void 0&&(o=-Ae);for(var l=[],c=this._first;c;)c._start>=o&&(c instanceof ee?r&&l.push(c):(s&&l.push(c),n&&l.push.apply(l,c.getChildren(!0,r,s)))),c=c._next;return l},t.getById=function(n){for(var r=this.getChildren(1,1,1),s=r.length;s--;)if(r[s].vars.id===n)return r[s]},t.remove=function(n){return ne(n)?this.removeLabel(n):Q(n)?this.killTweensOf(n):(n.parent===this&&qi(this,n),n===this._recent&&(this._recent=this._last),yt(this))},t.totalTime=function(n,r){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=te(Se.time-(this._ts>0?n/this._ts:(this.totalDuration()-n)/-this._ts))),a.prototype.totalTime.call(this,n,r),this._forcing=0,this):this._tTime},t.addLabel=function(n,r){return this.labels[n]=Oe(this,r),this},t.removeLabel=function(n){return delete this.labels[n],this},t.addPause=function(n,r,s){var o=ee.delayedCall(0,r||ni,s);return o.data="isPause",this._hasPause=1,Ge(this,o,Oe(this,n))},t.removePause=function(n){var r=this._first;for(n=Oe(this,n);r;)r._start===n&&r.data==="isPause"&&ut(r),r=r._next},t.killTweensOf=function(n,r,s){for(var o=this.getTweensOf(n,s),l=o.length;l--;)nt!==o[l]&&o[l].kill(n,r);return this},t.getTweensOf=function(n,r){for(var s=[],o=Le(n),l=this._first,c=Ke(r),u;l;)l instanceof ee?pl(l._targets,o)&&(c?(!nt||l._initted&&l._ts)&&l.globalTime(0)<=r&&l.globalTime(l.totalDuration())>r:!r||l.isActive())&&s.push(l):(u=l.getTweensOf(o,r)).length&&s.push.apply(s,u),l=l._next;return s},t.tweenTo=function(n,r){r=r||{};var s=this,o=Oe(s,n),l=r,c=l.startAt,u=l.onStart,h=l.onStartParams,m=l.immediateRender,p,_=ee.to(s,Ee({ease:r.ease||"none",lazy:!1,immediateRender:!1,time:o,overwrite:"auto",duration:r.duration||Math.abs((o-(c&&"time"in c?c.time:s._time))/s.timeScale())||X,onStart:function(){if(s.pause(),!p){var f=r.duration||Math.abs((o-(c&&"time"in c?c.time:s._time))/s.timeScale());_._dur!==f&&jt(_,f,0,1).render(_._time,!0,!0),p=1}u&&u.apply(_,h||[])}},r));return m?_.render(0):_},t.tweenFromTo=function(n,r,s){return this.tweenTo(r,Ee({startAt:{time:Oe(this,n)}},s))},t.recent=function(){return this._recent},t.nextLabel=function(n){return n===void 0&&(n=this._time),Cr(this,Oe(this,n))},t.previousLabel=function(n){return n===void 0&&(n=this._time),Cr(this,Oe(this,n),1)},t.currentLabel=function(n){return arguments.length?this.seek(n,!0):this.previousLabel(this._time+X)},t.shiftChildren=function(n,r,s){s===void 0&&(s=0);for(var o=this._first,l=this.labels,c;o;)o._start>=s&&(o._start+=n,o._end+=n),o=o._next;if(r)for(c in l)l[c]>=s&&(l[c]+=n);return yt(this)},t.invalidate=function(n){var r=this._first;for(this._lock=0;r;)r.invalidate(n),r=r._next;return a.prototype.invalidate.call(this,n)},t.clear=function(n){n===void 0&&(n=!0);for(var r=this._first,s;r;)s=r._next,this.remove(r),r=s;return this._dp&&(this._time=this._tTime=this._pTime=0),n&&(this.labels={}),yt(this)},t.totalDuration=function(n){var r=0,s=this,o=s._last,l=Ae,c,u,h;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-n:n));if(s._dirty){for(h=s.parent;o;)c=o._prev,o._dirty&&o.totalDuration(),u=o._start,u>l&&s._sort&&o._ts&&!s._lock?(s._lock=1,Ge(s,o,u-o._delay,1)._lock=0):l=u,u<0&&o._ts&&(r-=u,(!h&&!s._dp||h&&h.smoothChildTiming)&&(s._start+=u/s._ts,s._time-=u,s._tTime-=u),s.shiftChildren(-u,!1,-1/0),l=0),o._end>r&&o._ts&&(r=o._end),o=c;jt(s,s===H&&s._time>r?s._time:r,1,1),s._dirty=0}return s._tDur},e.updateRoot=function(n){if(H._ts&&(Ts(H,Ai(n,H)),xs=Se.frame),Se.frame>=br){br+=Ce.autoSleep||120;var r=H._first;if((!r||!r._ts)&&Ce.autoSleep&&Se._listeners.length<2){for(;r&&!r._ts;)r=r._next;r||Se.sleep()}}},e}(oi);Ee(he.prototype,{_lock:0,_hasPause:0,_forcing:0});var Bl=function(e,t,i,n,r,s,o){var l=new ge(this._pt,e,t,0,1,Qs,null,r),c=0,u=0,h,m,p,_,d,f,g,v;for(l.b=i,l.e=n,i+="",n+="",(g=~n.indexOf("random("))&&(n=ri(n)),s&&(v=[i,n],s(v,e,t),i=v[0],n=v[1]),m=i.match(tn)||[];h=tn.exec(n);)_=h[0],d=n.substring(c,h.index),p?p=(p+1)%5:d.substr(-5)==="rgba("&&(p=1),_!==m[u++]&&(f=parseFloat(m[u-1])||0,l._pt={_next:l._pt,p:d||u===1?d:",",s:f,c:_.charAt(1)==="="?Lt(f,_)-f:parseFloat(_)-f,m:p&&p<4?Math.round:0},c=tn.lastIndex);return l.c=c<n.length?n.substring(c,n.length):"",l.fp=o,(_s.test(n)||g)&&(l.e=0),this._pt=l,l},qn=function(e,t,i,n,r,s,o,l,c,u){Q(n)&&(n=n(r||0,e,s));var h=e[t],m=i!=="get"?i:Q(h)?c?e[t.indexOf("set")||!Q(e["get"+t.substr(3)])?t:"get"+t.substr(3)](c):e[t]():h,p=Q(h)?c?Gl:qs:Qn,_;if(ne(n)&&(~n.indexOf("random(")&&(n=ri(n)),n.charAt(1)==="="&&(_=Lt(m,n)+(se(m)||0),(_||_===0)&&(n=_))),!u||m!==n||Mn)return!isNaN(m*n)&&n!==""?(_=new ge(this._pt,e,t,+m||0,n-(m||0),typeof h=="boolean"?Wl:Ks,0,p),c&&(_.fp=c),o&&_.modifier(o,this,e),this._pt=_):(!h&&!(t in e)&&Wn(t,n),Bl.call(this,e,t,m,n,p,l||Ce.stringFilter,c))},zl=function(e,t,i,n,r){if(Q(e)&&(e=Qt(e,r,t,i,n)),!Ne(e)||e.style&&e.nodeType||oe(e)||ps(e))return ne(e)?Qt(e,r,t,i,n):e;var s={},o;for(o in e)s[o]=Qt(e[o],r,t,i,n);return s},Hs=function(e,t,i,n,r,s){var o,l,c,u;if(Te[e]&&(o=new Te[e]).init(r,o.rawVars?t[e]:zl(t[e],n,r,s,i),i,n,s)!==!1&&(i._pt=l=new ge(i._pt,r,e,0,1,o.render,o,0,o.priority),i!==Dt))for(c=i._ptLookup[i._targets.indexOf(r)],u=o._props.length;u--;)c[o._props[u]]=l;return o},nt,Mn,Kn=function a(e,t,i){var n=e.vars,r=n.ease,s=n.startAt,o=n.immediateRender,l=n.lazy,c=n.onUpdate,u=n.runBackwards,h=n.yoyoEase,m=n.keyframes,p=n.autoRevert,_=e._dur,d=e._startAt,f=e._targets,g=e.parent,v=g&&g.data==="nested"?g.vars.targets:f,y=e._overwrite==="auto"&&!Vn,b=e.timeline,w,T,S,P,C,k,A,L,D,j,V,B,q;if(b&&(!m||!r)&&(r="none"),e._ease=wt(r,It.ease),e._yEase=h?Gs(wt(h===!0?r:h,It.ease)):0,h&&e._yoyo&&!e._repeat&&(h=e._yEase,e._yEase=e._ease,e._ease=h),e._from=!b&&!!n.runBackwards,!b||m&&!n.stagger){if(L=f[0]?vt(f[0]).harness:0,B=L&&n[L.prop],w=Di(n,Nn),d&&(d._zTime<0&&d.progress(1),t<0&&u&&o&&!p?d.render(-1,!0):d.revert(u&&_?xi:fl),d._lazy=0),s){if(ut(e._startAt=ee.set(f,Ee({data:"isStart",overwrite:!1,parent:g,immediateRender:!0,lazy:!d&&me(l),startAt:null,delay:0,onUpdate:c&&function(){return Pe(e,"onUpdate")},stagger:0},s))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(re||!o&&!p)&&e._startAt.revert(xi),o&&_&&t<=0&&i<=0){t&&(e._zTime=t);return}}else if(u&&_&&!d){if(t&&(o=!1),S=Ee({overwrite:!1,data:"isFromStart",lazy:o&&!d&&me(l),immediateRender:o,stagger:0,parent:g},w),B&&(S[L.prop]=B),ut(e._startAt=ee.set(f,S)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(re?e._startAt.revert(xi):e._startAt.render(-1,!0)),e._zTime=t,!o)a(e._startAt,X,X);else if(!t)return}for(e._pt=e._ptCache=0,l=_&&me(l)||l&&!_,T=0;T<f.length;T++){if(C=f[T],A=C._gsap||Yn(f)[T]._gsap,e._ptLookup[T]=j={},xn[A.id]&&at.length&&Oi(),V=v===f?T:v.indexOf(C),L&&(D=new L).init(C,B||w,e,V,v)!==!1&&(e._pt=P=new ge(e._pt,C,D.name,0,1,D.render,D,0,D.priority),D._props.forEach(function(ae){j[ae]=P}),D.priority&&(k=1)),!L||B)for(S in w)Te[S]&&(D=Hs(S,w,e,V,C,v))?D.priority&&(k=1):j[S]=P=qn.call(e,C,S,"get",w[S],V,v,0,n.stringFilter);e._op&&e._op[T]&&e.kill(C,e._op[T]),y&&e._pt&&(nt=e,H.killTweensOf(C,j,e.globalTime(t)),q=!e.parent,nt=0),e._pt&&l&&(xn[A.id]=1)}k&&Zs(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!q,m&&t<=0&&b.render(Ae,!0,!0)},jl=function(e,t,i,n,r,s,o,l){var c=(e._pt&&e._ptCache||(e._ptCache={}))[t],u,h,m,p;if(!c)for(c=e._ptCache[t]=[],m=e._ptLookup,p=e._targets.length;p--;){if(u=m[p][t],u&&u.d&&u.d._pt)for(u=u.d._pt;u&&u.p!==t&&u.fp!==t;)u=u._next;if(!u)return Mn=1,e.vars[t]="+=0",Kn(e,o),Mn=0,l?ii(t+" not eligible for reset"):1;c.push(u)}for(p=c.length;p--;)h=c[p],u=h._pt||h,u.s=(n||n===0)&&!r?n:u.s+(n||0)+s*u.c,u.c=i-u.s,h.e&&(h.e=J(i)+se(h.e)),h.b&&(h.b=u.s+se(h.b))},Vl=function(e,t){var i=e[0]?vt(e[0]).harness:0,n=i&&i.aliases,r,s,o,l;if(!n)return t;r=Bt({},t);for(s in n)if(s in r)for(l=n[s].split(","),o=l.length;o--;)r[l[o]]=r[s];return r},Ul=function(e,t,i,n){var r=t.ease||n||"power1.inOut",s,o;if(oe(t))o=i[e]||(i[e]=[]),t.forEach(function(l,c){return o.push({t:c/(t.length-1)*100,v:l,e:r})});else for(s in t)o=i[s]||(i[s]=[]),s==="ease"||o.push({t:parseFloat(e),v:t[s],e:r})},Qt=function(e,t,i,n,r){return Q(e)?e.call(t,i,n,r):ne(e)&&~e.indexOf("random(")?ri(e):e},Ys=Hn+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",$s={};_e(Ys+",id,stagger,delay,duration,paused,scrollTrigger",function(a){return $s[a]=1});var ee=function(a){fs(e,a);function e(i,n,r,s){var o;typeof n=="number"&&(r.duration=n,n=r,r=null),o=a.call(this,s?n:qt(n))||this;var l=o.vars,c=l.duration,u=l.delay,h=l.immediateRender,m=l.stagger,p=l.overwrite,_=l.keyframes,d=l.defaults,f=l.scrollTrigger,g=l.yoyoEase,v=n.parent||H,y=(oe(i)||ps(i)?Ke(i[0]):"length"in n)?[i]:Le(i),b,w,T,S,P,C,k,A;if(o._targets=y.length?Yn(y):ii("GSAP target "+i+" not found. https://gsap.com",!Ce.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=p,_||m||gi(c)||gi(u)){if(n=o.vars,b=o.timeline=new he({data:"nested",defaults:d||{},targets:v&&v.data==="nested"?v.vars.targets:y}),b.kill(),b.parent=b._dp=He(o),b._start=0,m||gi(c)||gi(u)){if(S=y.length,k=m&&As(m),Ne(m))for(P in m)~Ys.indexOf(P)&&(A||(A={}),A[P]=m[P]);for(w=0;w<S;w++)T=Di(n,$s),T.stagger=0,g&&(T.yoyoEase=g),A&&Bt(T,A),C=y[w],T.duration=+Qt(c,He(o),w,C,y),T.delay=(+Qt(u,He(o),w,C,y)||0)-o._delay,!m&&S===1&&T.delay&&(o._delay=u=T.delay,o._start+=u,T.delay=0),b.to(C,T,k?k(w,C,y):0),b._ease=F.none;b.duration()?c=u=0:o.timeline=0}else if(_){qt(Ee(b.vars.defaults,{ease:"none"})),b._ease=wt(_.ease||n.ease||"none");var L=0,D,j,V;if(oe(_))_.forEach(function(B){return b.to(y,B,">")}),b.duration();else{T={};for(P in _)P==="ease"||P==="easeEach"||Ul(P,_[P],T,_.easeEach);for(P in T)for(D=T[P].sort(function(B,q){return B.t-q.t}),L=0,w=0;w<D.length;w++)j=D[w],V={ease:j.e,duration:(j.t-(w?D[w-1].t:0))/100*c},V[P]=j.v,b.to(y,V,L),L+=V.duration;b.duration()<c&&b.to({},{duration:c-b.duration()})}}c||o.duration(c=b.duration())}else o.timeline=0;return p===!0&&!Vn&&(nt=He(o),H.killTweensOf(y),nt=0),Ge(v,He(o),r),n.reversed&&o.reverse(),n.paused&&o.paused(!0),(h||!c&&!_&&o._start===te(v._time)&&me(h)&&vl(He(o))&&v.data!=="nested")&&(o._tTime=-X,o.render(Math.max(0,-u)||0)),f&&Es(He(o),f),o}var t=e.prototype;return t.render=function(n,r,s){var o=this._time,l=this._tDur,c=this._dur,u=n<0,h=n>l-X&&!u?l:n<X?0:n,m,p,_,d,f,g,v,y,b;if(!c)wl(this,n,r,s);else if(h!==this._tTime||!n||s||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u||this._lazy){if(m=h,y=this.timeline,this._repeat){if(d=c+this._rDelay,this._repeat<-1&&u)return this.totalTime(d*100+n,r,s);if(m=te(h%d),h===l?(_=this._repeat,m=c):(f=te(h/d),_=~~f,_&&_===f?(m=c,_--):m>c&&(m=c)),g=this._yoyo&&_&1,g&&(b=this._yEase,m=c-m),f=zt(this._tTime,d),m===o&&!s&&this._initted&&_===f)return this._tTime=h,this;_!==f&&(y&&this._yEase&&Xs(y,g),this.vars.repeatRefresh&&!g&&!this._lock&&m!==d&&this._initted&&(this._lock=s=1,this.render(te(d*_),!0).invalidate()._lock=0))}if(!this._initted){if(ks(this,u?n:m,s,r,h))return this._tTime=0,this;if(o!==this._time&&!(s&&this.vars.repeatRefresh&&_!==f))return this;if(c!==this._dur)return this.render(n,r,s)}if(this._tTime=h,this._time=m,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=v=(b||this._ease)(m/c),this._from&&(this.ratio=v=1-v),!o&&h&&!r&&!f&&(Pe(this,"onStart"),this._tTime!==h))return this;for(p=this._pt;p;)p.r(v,p.d),p=p._next;y&&y.render(n<0?n:y._dur*y._ease(m/this._dur),r,s)||this._startAt&&(this._zTime=n),this._onUpdate&&!r&&(u&&bn(this,n,r,s),Pe(this,"onUpdate")),this._repeat&&_!==f&&this.vars.onRepeat&&!r&&this.parent&&Pe(this,"onRepeat"),(h===this._tDur||!h)&&this._tTime===h&&(u&&!this._onUpdate&&bn(this,n,!0,!0),(n||!c)&&(h===this._tDur&&this._ts>0||!h&&this._ts<0)&&ut(this,1),!r&&!(u&&!o)&&(h||o||g)&&(Pe(this,h===l?"onComplete":"onReverseComplete",!0),this._prom&&!(h<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(n){return(!n||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(n),a.prototype.invalidate.call(this,n)},t.resetTo=function(n,r,s,o,l){si||Se.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts),u;return this._initted||Kn(this,c),u=this._ease(c/this._dur),jl(this,n,r,s,o,u,c,l)?this.resetTo(n,r,s,o,1):(Qi(this,0),this.parent||Cs(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(n,r){if(r===void 0&&(r="all"),!n&&(!r||r==="all"))return this._lazy=this._pt=0,this.parent?Nt(this):this.scrollTrigger&&this.scrollTrigger.kill(!!re),this;if(this.timeline){var s=this.timeline.totalDuration();return this.timeline.killTweensOf(n,r,nt&&nt.vars.overwrite!==!0)._first||Nt(this),this.parent&&s!==this.timeline.totalDuration()&&jt(this,this._dur*this.timeline._tDur/s,0,1),this}var o=this._targets,l=n?Le(n):o,c=this._ptLookup,u=this._pt,h,m,p,_,d,f,g;if((!r||r==="all")&&_l(o,l))return r==="all"&&(this._pt=0),Nt(this);for(h=this._op=this._op||[],r!=="all"&&(ne(r)&&(d={},_e(r,function(v){return d[v]=1}),r=d),r=Vl(o,r)),g=o.length;g--;)if(~l.indexOf(o[g])){m=c[g],r==="all"?(h[g]=r,_=m,p={}):(p=h[g]=h[g]||{},_=r);for(d in _)f=m&&m[d],f&&((!("kill"in f.d)||f.d.kill(d)===!0)&&qi(this,f,"_pt"),delete m[d]),p!=="all"&&(p[d]=1)}return this._initted&&!this._pt&&u&&Nt(this),this},e.to=function(n,r){return new e(n,r,arguments[2])},e.from=function(n,r){return Kt(1,arguments)},e.delayedCall=function(n,r,s,o){return new e(r,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:n,onComplete:r,onReverseComplete:r,onCompleteParams:s,onReverseCompleteParams:s,callbackScope:o})},e.fromTo=function(n,r,s){return Kt(2,arguments)},e.set=function(n,r){return r.duration=0,r.repeatDelay||(r.repeat=0),new e(n,r)},e.killTweensOf=function(n,r,s){return H.killTweensOf(n,r,s)},e}(oi);Ee(ee.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});_e("staggerTo,staggerFrom,staggerFromTo",function(a){ee[a]=function(){var e=new he,t=Sn.call(arguments,0);return t.splice(a==="staggerFromTo"?5:4,0,0),e[a].apply(e,t)}});var Qn=function(e,t,i){return e[t]=i},qs=function(e,t,i){return e[t](i)},Gl=function(e,t,i,n){return e[t](n.fp,i)},Xl=function(e,t,i){return e.setAttribute(t,i)},Zn=function(e,t){return Q(e[t])?qs:Un(e[t])&&e.setAttribute?Xl:Qn},Ks=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},Wl=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},Qs=function(e,t){var i=t._pt,n="";if(!e&&t.b)n=t.b;else if(e===1&&t.e)n=t.e;else{for(;i;)n=i.p+(i.m?i.m(i.s+i.c*e):Math.round((i.s+i.c*e)*1e4)/1e4)+n,i=i._next;n+=t.c}t.set(t.t,t.p,n,t)},Jn=function(e,t){for(var i=t._pt;i;)i.r(e,i.d),i=i._next},Nl=function(e,t,i,n){for(var r=this._pt,s;r;)s=r._next,r.p===n&&r.modifier(e,t,i),r=s},Hl=function(e){for(var t=this._pt,i,n;t;)n=t._next,t.p===e&&!t.op||t.op===e?qi(this,t,"_pt"):t.dep||(i=1),t=n;return!i},Yl=function(e,t,i,n){n.mSet(e,t,n.m.call(n.tween,i,n.mt),n)},Zs=function(e){for(var t=e._pt,i,n,r,s;t;){for(i=t._next,n=r;n&&n.pr>t.pr;)n=n._next;(t._prev=n?n._prev:s)?t._prev._next=t:r=t,(t._next=n)?n._prev=t:s=t,t=i}e._pt=r},ge=function(){function a(t,i,n,r,s,o,l,c,u){this.t=i,this.s=r,this.c=s,this.p=n,this.r=o||Ks,this.d=l||this,this.set=c||Qn,this.pr=u||0,this._next=t,t&&(t._prev=this)}var e=a.prototype;return e.modifier=function(i,n,r){this.mSet=this.mSet||this.set,this.set=Yl,this.m=i,this.mt=r,this.tween=n},a}();_e(Hn+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(a){return Nn[a]=1});Me.TweenMax=Me.TweenLite=ee;Me.TimelineLite=Me.TimelineMax=he;H=new he({sortChildren:!1,defaults:It,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Ce.stringFilter=Us;var xt=[],Ti={},$l=[],Er=0,ql=0,an=function(e){return(Ti[e]||$l).map(function(t){return t()})},En=function(){var e=Date.now(),t=[];e-Er>2&&(an("matchMediaInit"),xt.forEach(function(i){var n=i.queries,r=i.conditions,s,o,l,c;for(o in n)s=Ve.matchMedia(n[o]).matches,s&&(l=1),s!==r[o]&&(r[o]=s,c=1);c&&(i.revert(),l&&t.push(i))}),an("matchMediaRevert"),t.forEach(function(i){return i.onMatch(i,function(n){return i.add(null,n)})}),Er=e,an("matchMedia"))},Js=function(){function a(t,i){this.selector=i&&Pn(i),this.data=[],this._r=[],this.isReverted=!1,this.id=ql++,t&&this.add(t)}var e=a.prototype;return e.add=function(i,n,r){Q(i)&&(r=n,n=i,i=Q);var s=this,o=function(){var c=N,u=s.selector,h;return c&&c!==s&&c.data.push(s),r&&(s.selector=Pn(r)),N=s,h=n.apply(s,arguments),Q(h)&&s._r.push(h),N=c,s.selector=u,s.isReverted=!1,h};return s.last=o,i===Q?o(s,function(l){return s.add(null,l)}):i?s[i]=o:o},e.ignore=function(i){var n=N;N=null,i(this),N=n},e.getTweens=function(){var i=[];return this.data.forEach(function(n){return n instanceof a?i.push.apply(i,n.getTweens()):n instanceof ee&&!(n.parent&&n.parent.data==="nested")&&i.push(n)}),i},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(i,n){var r=this;if(i?function(){for(var o=r.getTweens(),l=r.data.length,c;l--;)c=r.data[l],c.data==="isFlip"&&(c.revert(),c.getChildren(!0,!0,!1).forEach(function(u){return o.splice(o.indexOf(u),1)}));for(o.map(function(u){return{g:u._dur||u._delay||u._sat&&!u._sat.vars.immediateRender?u.globalTime(0):-1/0,t:u}}).sort(function(u,h){return h.g-u.g||-1/0}).forEach(function(u){return u.t.revert(i)}),l=r.data.length;l--;)c=r.data[l],c instanceof he?c.data!=="nested"&&(c.scrollTrigger&&c.scrollTrigger.revert(),c.kill()):!(c instanceof ee)&&c.revert&&c.revert(i);r._r.forEach(function(u){return u(i,r)}),r.isReverted=!0}():this.data.forEach(function(o){return o.kill&&o.kill()}),this.clear(),n)for(var s=xt.length;s--;)xt[s].id===this.id&&xt.splice(s,1)},e.revert=function(i){this.kill(i||{})},a}(),Kl=function(){function a(t){this.contexts=[],this.scope=t,N&&N.data.push(this)}var e=a.prototype;return e.add=function(i,n,r){Ne(i)||(i={matches:i});var s=new Js(0,r||this.scope),o=s.conditions={},l,c,u;N&&!s.selector&&(s.selector=N.selector),this.contexts.push(s),n=s.add("onMatch",n),s.queries=i;for(c in i)c==="all"?u=1:(l=Ve.matchMedia(i[c]),l&&(xt.indexOf(s)<0&&xt.push(s),(o[c]=l.matches)&&(u=1),l.addListener?l.addListener(En):l.addEventListener("change",En)));return u&&n(s,function(h){return s.add(null,h)}),this},e.revert=function(i){this.kill(i||{})},e.kill=function(i){this.contexts.forEach(function(n){return n.kill(i,!0)})},a}(),Li={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(function(n){return zs(n)})},timeline:function(e){return new he(e)},getTweensOf:function(e,t){return H.getTweensOf(e,t)},getProperty:function(e,t,i,n){ne(e)&&(e=Le(e)[0]);var r=vt(e||{}).get,s=i?Ps:Ss;return i==="native"&&(i=""),e&&(t?s((Te[t]&&Te[t].get||r)(e,t,i,n)):function(o,l,c){return s((Te[o]&&Te[o].get||r)(e,o,l,c))})},quickSetter:function(e,t,i){if(e=Le(e),e.length>1){var n=e.map(function(u){return ye.quickSetter(u,t,i)}),r=n.length;return function(u){for(var h=r;h--;)n[h](u)}}e=e[0]||{};var s=Te[t],o=vt(e),l=o.harness&&(o.harness.aliases||{})[t]||t,c=s?function(u){var h=new s;Dt._pt=0,h.init(e,i?u+i:u,Dt,0,[e]),h.render(1,h),Dt._pt&&Jn(1,Dt)}:o.set(e,l);return s?c:function(u){return c(e,l,i?u+i:u,o,1)}},quickTo:function(e,t,i){var n,r=ye.to(e,Ee((n={},n[t]="+=0.1",n.paused=!0,n.stagger=0,n),i||{})),s=function(l,c,u){return r.resetTo(t,l,c,u)};return s.tween=r,s},isTweening:function(e){return H.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=wt(e.ease,It.ease)),Tr(It,e||{})},config:function(e){return Tr(Ce,e||{})},registerEffect:function(e){var t=e.name,i=e.effect,n=e.plugins,r=e.defaults,s=e.extendTimeline;(n||"").split(",").forEach(function(o){return o&&!Te[o]&&!Me[o]&&ii(t+" effect requires "+o+" plugin.")}),nn[t]=function(o,l,c){return i(Le(o),Ee(l||{},r),c)},s&&(he.prototype[t]=function(o,l,c){return this.add(nn[t](o,Ne(l)?l:(c=l)&&{},this),c)})},registerEase:function(e,t){F[e]=wt(t)},parseEase:function(e,t){return arguments.length?wt(e,t):F},getById:function(e){return H.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var i=new he(e),n,r;for(i.smoothChildTiming=me(e.smoothChildTiming),H.remove(i),i._dp=0,i._time=i._tTime=H._time,n=H._first;n;)r=n._next,(t||!(!n._dur&&n instanceof ee&&n.vars.onComplete===n._targets[0]))&&Ge(i,n,n._start-n._delay),n=r;return Ge(H,i,0),i},context:function(e,t){return e?new Js(e,t):N},matchMedia:function(e){return new Kl(e)},matchMediaRefresh:function(){return xt.forEach(function(e){var t=e.conditions,i,n;for(n in t)t[n]&&(t[n]=!1,i=1);i&&e.revert()})||En()},addEventListener:function(e,t){var i=Ti[e]||(Ti[e]=[]);~i.indexOf(t)||i.push(t)},removeEventListener:function(e,t){var i=Ti[e],n=i&&i.indexOf(t);n>=0&&i.splice(n,1)},utils:{wrap:El,wrapYoyo:kl,distribute:As,random:Rs,snap:Ls,normalize:Ml,getUnit:se,clamp:Tl,splitColor:js,toArray:Le,selector:Pn,mapRange:Is,pipe:Pl,unitize:Cl,interpolate:Ol,shuffle:Ds},install:ys,effects:nn,ticker:Se,updateRoot:he.updateRoot,plugins:Te,globalTimeline:H,core:{PropTween:ge,globals:ws,Tween:ee,Timeline:he,Animation:oi,getCache:vt,_removeLinkedListItem:qi,reverting:function(){return re},context:function(e){return e&&N&&(N.data.push(e),e._ctx=N),N},suppressOverwrites:function(e){return Vn=e}}};_e("to,from,fromTo,delayedCall,set,killTweensOf",function(a){return Li[a]=ee[a]});Se.add(he.updateRoot);Dt=Li.to({},{duration:0});var Ql=function(e,t){for(var i=e._pt;i&&i.p!==t&&i.op!==t&&i.fp!==t;)i=i._next;return i},Zl=function(e,t){var i=e._targets,n,r,s;for(n in t)for(r=i.length;r--;)s=e._ptLookup[r][n],s&&(s=s.d)&&(s._pt&&(s=Ql(s,n)),s&&s.modifier&&s.modifier(t[n],e,i[r],n))},ln=function(e,t){return{name:e,headless:1,rawVars:1,init:function(n,r,s){s._onInit=function(o){var l,c;if(ne(r)&&(l={},_e(r,function(u){return l[u]=1}),r=l),t){l={};for(c in r)l[c]=t(r[c]);r=l}Zl(o,r)}}}},ye=Li.registerPlugin({name:"attr",init:function(e,t,i,n,r){var s,o,l;this.tween=i;for(s in t)l=e.getAttribute(s)||"",o=this.add(e,"setAttribute",(l||0)+"",t[s],n,r,0,0,s),o.op=s,o.b=l,this._props.push(s)},render:function(e,t){for(var i=t._pt;i;)re?i.set(i.t,i.p,i.b,i):i.r(e,i.d),i=i._next}},{name:"endArray",headless:1,init:function(e,t){for(var i=t.length;i--;)this.add(e,i,e[i]||0,t[i],0,0,0,0,0,1)}},ln("roundProps",Cn),ln("modifiers"),ln("snap",Ls))||Li;ee.version=he.version=ye.version="3.13.0";vs=1;Gn()&&Vt();F.Power0;F.Power1;F.Power2;F.Power3;F.Power4;F.Linear;F.Quad;F.Cubic;F.Quart;F.Quint;F.Strong;F.Elastic;F.Back;F.SteppedEase;F.Bounce;F.Sine;F.Expo;F.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var kr,rt,Rt,er,gt,Or,tr,Jl=function(){return typeof window<"u"},Qe={},mt=180/Math.PI,Ft=Math.PI/180,Pt=Math.atan2,Dr=1e8,ir=/([A-Z])/g,ec=/(left|right|width|margin|padding|x)/i,tc=/[\s,\(]\S/,Xe={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},kn=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},ic=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},nc=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},rc=function(e,t){var i=t.s+t.c*e;t.set(t.t,t.p,~~(i+(i<0?-.5:.5))+t.u,t)},eo=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},to=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},sc=function(e,t,i){return e.style[t]=i},oc=function(e,t,i){return e.style.setProperty(t,i)},ac=function(e,t,i){return e._gsap[t]=i},lc=function(e,t,i){return e._gsap.scaleX=e._gsap.scaleY=i},cc=function(e,t,i,n,r){var s=e._gsap;s.scaleX=s.scaleY=i,s.renderTransform(r,s)},uc=function(e,t,i,n,r){var s=e._gsap;s[t]=i,s.renderTransform(r,s)},$="transform",ve=$+"Origin",hc=function a(e,t){var i=this,n=this.target,r=n.style,s=n._gsap;if(e in Qe&&r){if(this.tfm=this.tfm||{},e!=="transform")e=Xe[e]||e,~e.indexOf(",")?e.split(",").forEach(function(o){return i.tfm[o]=Ye(n,o)}):this.tfm[e]=s.x?s[e]:Ye(n,e),e===ve&&(this.tfm.zOrigin=s.zOrigin);else return Xe.transform.split(",").forEach(function(o){return a.call(i,o,t)});if(this.props.indexOf($)>=0)return;s.svg&&(this.svgo=n.getAttribute("data-svg-origin"),this.props.push(ve,t,"")),e=$}(r||t)&&this.props.push(e,t,r[e])},io=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},fc=function(){var e=this.props,t=this.target,i=t.style,n=t._gsap,r,s;for(r=0;r<e.length;r+=3)e[r+1]?e[r+1]===2?t[e[r]](e[r+2]):t[e[r]]=e[r+2]:e[r+2]?i[e[r]]=e[r+2]:i.removeProperty(e[r].substr(0,2)==="--"?e[r]:e[r].replace(ir,"-$1").toLowerCase());if(this.tfm){for(s in this.tfm)n[s]=this.tfm[s];n.svg&&(n.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),r=tr(),(!r||!r.isStart)&&!i[$]&&(io(i),n.zOrigin&&i[ve]&&(i[ve]+=" "+n.zOrigin+"px",n.zOrigin=0,n.renderTransform()),n.uncache=1)}},no=function(e,t){var i={target:e,props:[],revert:fc,save:hc};return e._gsap||ye.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(n){return i.save(n)}),i},ro,On=function(e,t){var i=rt.createElementNS?rt.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):rt.createElement(e);return i&&i.style?i:rt.createElement(e)},Re=function a(e,t,i){var n=getComputedStyle(e);return n[t]||n.getPropertyValue(t.replace(ir,"-$1").toLowerCase())||n.getPropertyValue(t)||!i&&a(e,Ut(t)||t,1)||""},Ar="O,Moz,ms,Ms,Webkit".split(","),Ut=function(e,t,i){var n=t||gt,r=n.style,s=5;if(e in r&&!i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);s--&&!(Ar[s]+e in r););return s<0?null:(s===3?"ms":s>=0?Ar[s]:"")+e},Dn=function(){Jl()&&window.document&&(kr=window,rt=kr.document,Rt=rt.documentElement,gt=On("div")||{style:{}},On("div"),$=Ut($),ve=$+"Origin",gt.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",ro=!!Ut("perspective"),tr=ye.core.reverting,er=1)},Lr=function(e){var t=e.ownerSVGElement,i=On("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=e.cloneNode(!0),r;n.style.display="block",i.appendChild(n),Rt.appendChild(i);try{r=n.getBBox()}catch{}return i.removeChild(n),Rt.removeChild(i),r},Rr=function(e,t){for(var i=t.length;i--;)if(e.hasAttribute(t[i]))return e.getAttribute(t[i])},so=function(e){var t,i;try{t=e.getBBox()}catch{t=Lr(e),i=1}return t&&(t.width||t.height)||i||(t=Lr(e)),t&&!t.width&&!t.x&&!t.y?{x:+Rr(e,["x","cx","x1"])||0,y:+Rr(e,["y","cy","y1"])||0,width:0,height:0}:t},oo=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&so(e))},bt=function(e,t){if(t){var i=e.style,n;t in Qe&&t!==ve&&(t=$),i.removeProperty?(n=t.substr(0,2),(n==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),i.removeProperty(n==="--"?t:t.replace(ir,"-$1").toLowerCase())):i.removeAttribute(t)}},st=function(e,t,i,n,r,s){var o=new ge(e._pt,t,i,0,1,s?to:eo);return e._pt=o,o.b=n,o.e=r,e._props.push(i),o},Fr={deg:1,rad:1,turn:1},dc={grid:1,flex:1},ht=function a(e,t,i,n){var r=parseFloat(i)||0,s=(i+"").trim().substr((r+"").length)||"px",o=gt.style,l=ec.test(t),c=e.tagName.toLowerCase()==="svg",u=(c?"client":"offset")+(l?"Width":"Height"),h=100,m=n==="px",p=n==="%",_,d,f,g;if(n===s||!r||Fr[n]||Fr[s])return r;if(s!=="px"&&!m&&(r=a(e,t,i,"px")),g=e.getCTM&&oo(e),(p||s==="%")&&(Qe[t]||~t.indexOf("adius")))return _=g?e.getBBox()[l?"width":"height"]:e[u],J(p?r/_*h:r/100*_);if(o[l?"width":"height"]=h+(m?s:n),d=n!=="rem"&&~t.indexOf("adius")||n==="em"&&e.appendChild&&!c?e:e.parentNode,g&&(d=(e.ownerSVGElement||{}).parentNode),(!d||d===rt||!d.appendChild)&&(d=rt.body),f=d._gsap,f&&p&&f.width&&l&&f.time===Se.time&&!f.uncache)return J(r/f.width*h);if(p&&(t==="height"||t==="width")){var v=e.style[t];e.style[t]=h+n,_=e[u],v?e.style[t]=v:bt(e,t)}else(p||s==="%")&&!dc[Re(d,"display")]&&(o.position=Re(e,"position")),d===e&&(o.position="static"),d.appendChild(gt),_=gt[u],d.removeChild(gt),o.position="absolute";return l&&p&&(f=vt(d),f.time=Se.time,f.width=d[u]),J(m?_*r/h:_&&r?h/_*r:0)},Ye=function(e,t,i,n){var r;return er||Dn(),t in Xe&&t!=="transform"&&(t=Xe[t],~t.indexOf(",")&&(t=t.split(",")[0])),Qe[t]&&t!=="transform"?(r=li(e,n),r=t!=="transformOrigin"?r[t]:r.svg?r.origin:Fi(Re(e,ve))+" "+r.zOrigin+"px"):(r=e.style[t],(!r||r==="auto"||n||~(r+"").indexOf("calc("))&&(r=Ri[t]&&Ri[t](e,t,i)||Re(e,t)||bs(e,t)||(t==="opacity"?1:0))),i&&!~(r+"").trim().indexOf(" ")?ht(e,t,r,i)+i:r},pc=function(e,t,i,n){if(!i||i==="none"){var r=Ut(t,e,1),s=r&&Re(e,r,1);s&&s!==i?(t=r,i=s):t==="borderColor"&&(i=Re(e,"borderTopColor"))}var o=new ge(this._pt,e.style,t,0,1,Qs),l=0,c=0,u,h,m,p,_,d,f,g,v,y,b,w;if(o.b=i,o.e=n,i+="",n+="",n.substring(0,6)==="var(--"&&(n=Re(e,n.substring(4,n.indexOf(")")))),n==="auto"&&(d=e.style[t],e.style[t]=n,n=Re(e,t)||n,d?e.style[t]=d:bt(e,t)),u=[i,n],Us(u),i=u[0],n=u[1],m=i.match(Ot)||[],w=n.match(Ot)||[],w.length){for(;h=Ot.exec(n);)f=h[0],v=n.substring(l,h.index),_?_=(_+1)%5:(v.substr(-5)==="rgba("||v.substr(-5)==="hsla(")&&(_=1),f!==(d=m[c++]||"")&&(p=parseFloat(d)||0,b=d.substr((p+"").length),f.charAt(1)==="="&&(f=Lt(p,f)+b),g=parseFloat(f),y=f.substr((g+"").length),l=Ot.lastIndex-y.length,y||(y=y||Ce.units[t]||b,l===n.length&&(n+=y,o.e+=y)),b!==y&&(p=ht(e,t,d,y)||0),o._pt={_next:o._pt,p:v||c===1?v:",",s:p,c:g-p,m:_&&_<4||t==="zIndex"?Math.round:0});o.c=l<n.length?n.substring(l,n.length):""}else o.r=t==="display"&&n==="none"?to:eo;return _s.test(n)&&(o.e=0),this._pt=o,o},Ir={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},mc=function(e){var t=e.split(" "),i=t[0],n=t[1]||"50%";return(i==="top"||i==="bottom"||n==="left"||n==="right")&&(e=i,i=n,n=e),t[0]=Ir[i]||i,t[1]=Ir[n]||n,t.join(" ")},_c=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var i=t.t,n=i.style,r=t.u,s=i._gsap,o,l,c;if(r==="all"||r===!0)n.cssText="",l=1;else for(r=r.split(","),c=r.length;--c>-1;)o=r[c],Qe[o]&&(l=1,o=o==="transformOrigin"?ve:$),bt(i,o);l&&(bt(i,$),s&&(s.svg&&i.removeAttribute("transform"),n.scale=n.rotate=n.translate="none",li(i,1),s.uncache=1,io(n)))}},Ri={clearProps:function(e,t,i,n,r){if(r.data!=="isFromStart"){var s=e._pt=new ge(e._pt,t,i,0,0,_c);return s.u=n,s.pr=-10,s.tween=r,e._props.push(i),1}}},ai=[1,0,0,1,0,0],ao={},lo=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},Br=function(e){var t=Re(e,$);return lo(t)?ai:t.substr(7).match(ms).map(J)},nr=function(e,t){var i=e._gsap||vt(e),n=e.style,r=Br(e),s,o,l,c;return i.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,r=[l.a,l.b,l.c,l.d,l.e,l.f],r.join(",")==="1,0,0,1,0,0"?ai:r):(r===ai&&!e.offsetParent&&e!==Rt&&!i.svg&&(l=n.display,n.display="block",s=e.parentNode,(!s||!e.offsetParent&&!e.getBoundingClientRect().width)&&(c=1,o=e.nextElementSibling,Rt.appendChild(e)),r=Br(e),l?n.display=l:bt(e,"display"),c&&(o?s.insertBefore(e,o):s?s.appendChild(e):Rt.removeChild(e))),t&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r)},An=function(e,t,i,n,r,s){var o=e._gsap,l=r||nr(e,!0),c=o.xOrigin||0,u=o.yOrigin||0,h=o.xOffset||0,m=o.yOffset||0,p=l[0],_=l[1],d=l[2],f=l[3],g=l[4],v=l[5],y=t.split(" "),b=parseFloat(y[0])||0,w=parseFloat(y[1])||0,T,S,P,C;i?l!==ai&&(S=p*f-_*d)&&(P=b*(f/S)+w*(-d/S)+(d*v-f*g)/S,C=b*(-_/S)+w*(p/S)-(p*v-_*g)/S,b=P,w=C):(T=so(e),b=T.x+(~y[0].indexOf("%")?b/100*T.width:b),w=T.y+(~(y[1]||y[0]).indexOf("%")?w/100*T.height:w)),n||n!==!1&&o.smooth?(g=b-c,v=w-u,o.xOffset=h+(g*p+v*d)-g,o.yOffset=m+(g*_+v*f)-v):o.xOffset=o.yOffset=0,o.xOrigin=b,o.yOrigin=w,o.smooth=!!n,o.origin=t,o.originIsAbsolute=!!i,e.style[ve]="0px 0px",s&&(st(s,o,"xOrigin",c,b),st(s,o,"yOrigin",u,w),st(s,o,"xOffset",h,o.xOffset),st(s,o,"yOffset",m,o.yOffset)),e.setAttribute("data-svg-origin",b+" "+w)},li=function(e,t){var i=e._gsap||new Ns(e);if("x"in i&&!t&&!i.uncache)return i;var n=e.style,r=i.scaleX<0,s="px",o="deg",l=getComputedStyle(e),c=Re(e,ve)||"0",u,h,m,p,_,d,f,g,v,y,b,w,T,S,P,C,k,A,L,D,j,V,B,q,ae,Be,fe,Fe,le,Ze,ce,ke;return u=h=m=d=f=g=v=y=b=0,p=_=1,i.svg=!!(e.getCTM&&oo(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(n[$]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[$]!=="none"?l[$]:"")),n.scale=n.rotate=n.translate="none"),S=nr(e,i.svg),i.svg&&(i.uncache?(ae=e.getBBox(),c=i.xOrigin-ae.x+"px "+(i.yOrigin-ae.y)+"px",q=""):q=!t&&e.getAttribute("data-svg-origin"),An(e,q||c,!!q||i.originIsAbsolute,i.smooth!==!1,S)),w=i.xOrigin||0,T=i.yOrigin||0,S!==ai&&(A=S[0],L=S[1],D=S[2],j=S[3],u=V=S[4],h=B=S[5],S.length===6?(p=Math.sqrt(A*A+L*L),_=Math.sqrt(j*j+D*D),d=A||L?Pt(L,A)*mt:0,v=D||j?Pt(D,j)*mt+d:0,v&&(_*=Math.abs(Math.cos(v*Ft))),i.svg&&(u-=w-(w*A+T*D),h-=T-(w*L+T*j))):(ke=S[6],Ze=S[7],fe=S[8],Fe=S[9],le=S[10],ce=S[11],u=S[12],h=S[13],m=S[14],P=Pt(ke,le),f=P*mt,P&&(C=Math.cos(-P),k=Math.sin(-P),q=V*C+fe*k,ae=B*C+Fe*k,Be=ke*C+le*k,fe=V*-k+fe*C,Fe=B*-k+Fe*C,le=ke*-k+le*C,ce=Ze*-k+ce*C,V=q,B=ae,ke=Be),P=Pt(-D,le),g=P*mt,P&&(C=Math.cos(-P),k=Math.sin(-P),q=A*C-fe*k,ae=L*C-Fe*k,Be=D*C-le*k,ce=j*k+ce*C,A=q,L=ae,D=Be),P=Pt(L,A),d=P*mt,P&&(C=Math.cos(P),k=Math.sin(P),q=A*C+L*k,ae=V*C+B*k,L=L*C-A*k,B=B*C-V*k,A=q,V=ae),f&&Math.abs(f)+Math.abs(d)>359.9&&(f=d=0,g=180-g),p=J(Math.sqrt(A*A+L*L+D*D)),_=J(Math.sqrt(B*B+ke*ke)),P=Pt(V,B),v=Math.abs(P)>2e-4?P*mt:0,b=ce?1/(ce<0?-ce:ce):0),i.svg&&(q=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!lo(Re(e,$)),q&&e.setAttribute("transform",q))),Math.abs(v)>90&&Math.abs(v)<270&&(r?(p*=-1,v+=d<=0?180:-180,d+=d<=0?180:-180):(_*=-1,v+=v<=0?180:-180)),t=t||i.uncache,i.x=u-((i.xPercent=u&&(!t&&i.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-u)?-50:0)))?e.offsetWidth*i.xPercent/100:0)+s,i.y=h-((i.yPercent=h&&(!t&&i.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-h)?-50:0)))?e.offsetHeight*i.yPercent/100:0)+s,i.z=m+s,i.scaleX=J(p),i.scaleY=J(_),i.rotation=J(d)+o,i.rotationX=J(f)+o,i.rotationY=J(g)+o,i.skewX=v+o,i.skewY=y+o,i.transformPerspective=b+s,(i.zOrigin=parseFloat(c.split(" ")[2])||!t&&i.zOrigin||0)&&(n[ve]=Fi(c)),i.xOffset=i.yOffset=0,i.force3D=Ce.force3D,i.renderTransform=i.svg?vc:ro?co:gc,i.uncache=0,i},Fi=function(e){return(e=e.split(" "))[0]+" "+e[1]},cn=function(e,t,i){var n=se(t);return J(parseFloat(t)+parseFloat(ht(e,"x",i+"px",n)))+n},gc=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,co(e,t)},dt="0deg",Wt="0px",pt=") ",co=function(e,t){var i=t||this,n=i.xPercent,r=i.yPercent,s=i.x,o=i.y,l=i.z,c=i.rotation,u=i.rotationY,h=i.rotationX,m=i.skewX,p=i.skewY,_=i.scaleX,d=i.scaleY,f=i.transformPerspective,g=i.force3D,v=i.target,y=i.zOrigin,b="",w=g==="auto"&&e&&e!==1||g===!0;if(y&&(h!==dt||u!==dt)){var T=parseFloat(u)*Ft,S=Math.sin(T),P=Math.cos(T),C;T=parseFloat(h)*Ft,C=Math.cos(T),s=cn(v,s,S*C*-y),o=cn(v,o,-Math.sin(T)*-y),l=cn(v,l,P*C*-y+y)}f!==Wt&&(b+="perspective("+f+pt),(n||r)&&(b+="translate("+n+"%, "+r+"%) "),(w||s!==Wt||o!==Wt||l!==Wt)&&(b+=l!==Wt||w?"translate3d("+s+", "+o+", "+l+") ":"translate("+s+", "+o+pt),c!==dt&&(b+="rotate("+c+pt),u!==dt&&(b+="rotateY("+u+pt),h!==dt&&(b+="rotateX("+h+pt),(m!==dt||p!==dt)&&(b+="skew("+m+", "+p+pt),(_!==1||d!==1)&&(b+="scale("+_+", "+d+pt),v.style[$]=b||"translate(0, 0)"},vc=function(e,t){var i=t||this,n=i.xPercent,r=i.yPercent,s=i.x,o=i.y,l=i.rotation,c=i.skewX,u=i.skewY,h=i.scaleX,m=i.scaleY,p=i.target,_=i.xOrigin,d=i.yOrigin,f=i.xOffset,g=i.yOffset,v=i.forceCSS,y=parseFloat(s),b=parseFloat(o),w,T,S,P,C;l=parseFloat(l),c=parseFloat(c),u=parseFloat(u),u&&(u=parseFloat(u),c+=u,l+=u),l||c?(l*=Ft,c*=Ft,w=Math.cos(l)*h,T=Math.sin(l)*h,S=Math.sin(l-c)*-m,P=Math.cos(l-c)*m,c&&(u*=Ft,C=Math.tan(c-u),C=Math.sqrt(1+C*C),S*=C,P*=C,u&&(C=Math.tan(u),C=Math.sqrt(1+C*C),w*=C,T*=C)),w=J(w),T=J(T),S=J(S),P=J(P)):(w=h,P=m,T=S=0),(y&&!~(s+"").indexOf("px")||b&&!~(o+"").indexOf("px"))&&(y=ht(p,"x",s,"px"),b=ht(p,"y",o,"px")),(_||d||f||g)&&(y=J(y+_-(_*w+d*S)+f),b=J(b+d-(_*T+d*P)+g)),(n||r)&&(C=p.getBBox(),y=J(y+n/100*C.width),b=J(b+r/100*C.height)),C="matrix("+w+","+T+","+S+","+P+","+y+","+b+")",p.setAttribute("transform",C),v&&(p.style[$]=C)},yc=function(e,t,i,n,r){var s=360,o=ne(r),l=parseFloat(r)*(o&&~r.indexOf("rad")?mt:1),c=l-n,u=n+c+"deg",h,m;return o&&(h=r.split("_")[1],h==="short"&&(c%=s,c!==c%(s/2)&&(c+=c<0?s:-s)),h==="cw"&&c<0?c=(c+s*Dr)%s-~~(c/s)*s:h==="ccw"&&c>0&&(c=(c-s*Dr)%s-~~(c/s)*s)),e._pt=m=new ge(e._pt,t,i,n,c,ic),m.e=u,m.u="deg",e._props.push(i),m},zr=function(e,t){for(var i in t)e[i]=t[i];return e},wc=function(e,t,i){var n=zr({},i._gsap),r="perspective,force3D,transformOrigin,svgOrigin",s=i.style,o,l,c,u,h,m,p,_;n.svg?(c=i.getAttribute("transform"),i.setAttribute("transform",""),s[$]=t,o=li(i,1),bt(i,$),i.setAttribute("transform",c)):(c=getComputedStyle(i)[$],s[$]=t,o=li(i,1),s[$]=c);for(l in Qe)c=n[l],u=o[l],c!==u&&r.indexOf(l)<0&&(p=se(c),_=se(u),h=p!==_?ht(i,l,c,_):parseFloat(c),m=parseFloat(u),e._pt=new ge(e._pt,o,l,h,m-h,kn),e._pt.u=_||0,e._props.push(l));zr(o,n)};_e("padding,margin,Width,Radius",function(a,e){var t="Top",i="Right",n="Bottom",r="Left",s=(e<3?[t,i,n,r]:[t+r,t+i,n+i,n+r]).map(function(o){return e<2?a+o:"border"+o+a});Ri[e>1?"border"+a:a]=function(o,l,c,u,h){var m,p;if(arguments.length<4)return m=s.map(function(_){return Ye(o,_,c)}),p=m.join(" "),p.split(m[0]).length===5?m[0]:p;m=(u+"").split(" "),p={},s.forEach(function(_,d){return p[_]=m[d]=m[d]||m[(d-1)/2|0]}),o.init(l,p,h)}});var uo={name:"css",register:Dn,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,i,n,r){var s=this._props,o=e.style,l=i.vars.startAt,c,u,h,m,p,_,d,f,g,v,y,b,w,T,S,P;er||Dn(),this.styles=this.styles||no(e),P=this.styles.props,this.tween=i;for(d in t)if(d!=="autoRound"&&(u=t[d],!(Te[d]&&Hs(d,t,i,n,e,r)))){if(p=typeof u,_=Ri[d],p==="function"&&(u=u.call(i,n,e,r),p=typeof u),p==="string"&&~u.indexOf("random(")&&(u=ri(u)),_)_(this,e,d,u,i)&&(S=1);else if(d.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(d)+"").trim(),u+="",lt.lastIndex=0,lt.test(c)||(f=se(c),g=se(u)),g?f!==g&&(c=ht(e,d,c,g)+g):f&&(u+=f),this.add(o,"setProperty",c,u,n,r,0,0,d),s.push(d),P.push(d,0,o[d]);else if(p!=="undefined"){if(l&&d in l?(c=typeof l[d]=="function"?l[d].call(i,n,e,r):l[d],ne(c)&&~c.indexOf("random(")&&(c=ri(c)),se(c+"")||c==="auto"||(c+=Ce.units[d]||se(Ye(e,d))||""),(c+"").charAt(1)==="="&&(c=Ye(e,d))):c=Ye(e,d),m=parseFloat(c),v=p==="string"&&u.charAt(1)==="="&&u.substr(0,2),v&&(u=u.substr(2)),h=parseFloat(u),d in Xe&&(d==="autoAlpha"&&(m===1&&Ye(e,"visibility")==="hidden"&&h&&(m=0),P.push("visibility",0,o.visibility),st(this,o,"visibility",m?"inherit":"hidden",h?"inherit":"hidden",!h)),d!=="scale"&&d!=="transform"&&(d=Xe[d],~d.indexOf(",")&&(d=d.split(",")[0]))),y=d in Qe,y){if(this.styles.save(d),p==="string"&&u.substring(0,6)==="var(--"&&(u=Re(e,u.substring(4,u.indexOf(")"))),h=parseFloat(u)),b||(w=e._gsap,w.renderTransform&&!t.parseTransform||li(e,t.parseTransform),T=t.smoothOrigin!==!1&&w.smooth,b=this._pt=new ge(this._pt,o,$,0,1,w.renderTransform,w,0,-1),b.dep=1),d==="scale")this._pt=new ge(this._pt,w,"scaleY",w.scaleY,(v?Lt(w.scaleY,v+h):h)-w.scaleY||0,kn),this._pt.u=0,s.push("scaleY",d),d+="X";else if(d==="transformOrigin"){P.push(ve,0,o[ve]),u=mc(u),w.svg?An(e,u,0,T,0,this):(g=parseFloat(u.split(" ")[2])||0,g!==w.zOrigin&&st(this,w,"zOrigin",w.zOrigin,g),st(this,o,d,Fi(c),Fi(u)));continue}else if(d==="svgOrigin"){An(e,u,1,T,0,this);continue}else if(d in ao){yc(this,w,d,m,v?Lt(m,v+u):u);continue}else if(d==="smoothOrigin"){st(this,w,"smooth",w.smooth,u);continue}else if(d==="force3D"){w[d]=u;continue}else if(d==="transform"){wc(this,u,e);continue}}else d in o||(d=Ut(d)||d);if(y||(h||h===0)&&(m||m===0)&&!tc.test(u)&&d in o)f=(c+"").substr((m+"").length),h||(h=0),g=se(u)||(d in Ce.units?Ce.units[d]:f),f!==g&&(m=ht(e,d,c,g)),this._pt=new ge(this._pt,y?w:o,d,m,(v?Lt(m,v+h):h)-m,!y&&(g==="px"||d==="zIndex")&&t.autoRound!==!1?rc:kn),this._pt.u=g||0,f!==g&&g!=="%"&&(this._pt.b=c,this._pt.r=nc);else if(d in o)pc.call(this,e,d,c,v?v+u:u);else if(d in e)this.add(e,d,c||e[d],v?v+u:u,n,r);else if(d!=="parseTransform"){Wn(d,u);continue}y||(d in o?P.push(d,0,o[d]):typeof e[d]=="function"?P.push(d,2,e[d]()):P.push(d,1,c||e[d])),s.push(d)}}S&&Zs(this)},render:function(e,t){if(t.tween._time||!tr())for(var i=t._pt;i;)i.r(e,i.d),i=i._next;else t.styles.revert()},get:Ye,aliases:Xe,getSetter:function(e,t,i){var n=Xe[t];return n&&n.indexOf(",")<0&&(t=n),t in Qe&&t!==ve&&(e._gsap.x||Ye(e,"x"))?i&&Or===i?t==="scale"?lc:ac:(Or=i||{})&&(t==="scale"?cc:uc):e.style&&!Un(e.style[t])?sc:~t.indexOf("-")?oc:Zn(e,t)},core:{_removeProperty:bt,_getMatrix:nr}};ye.utils.checkPrefix=Ut;ye.core.getStyleSaver=no;(function(a,e,t,i){var n=_e(a+","+e+","+t,function(r){Qe[r]=1});_e(e,function(r){Ce.units[r]="deg",ao[r]=1}),Xe[n[13]]=a+","+e,_e(i,function(r){var s=r.split(":");Xe[s[1]]=n[s[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");_e("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(a){Ce.units[a]="px"});ye.registerPlugin(uo);var be=ye.registerPlugin(uo)||ye;be.core.Tween;class xc extends wi{constructor(e=document.createElement("div")){super(),this.isCSS2DObject=!0,this.element=e,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.center=new We(.5,.5),this.addEventListener("removed",function(){this.traverse(function(t){t.element instanceof Element&&t.element.parentNode!==null&&t.element.parentNode.removeChild(t.element)})})}copy(e,t){return super.copy(e,t),this.element=e.element.cloneNode(!0),this.center=e.center,this}}const Ct=new Y,jr=new U,Vr=new U,Ur=new Y,Gr=new Y;class bc{constructor(e={}){const t=this;let i,n,r,s;const o={objects:new WeakMap},l=e.element!==void 0?e.element:document.createElement("div");l.style.overflow="hidden",this.domElement=l,this.getSize=function(){return{width:i,height:n}},this.render=function(p,_){p.matrixWorldAutoUpdate===!0&&p.updateMatrixWorld(),_.parent===null&&_.matrixWorldAutoUpdate===!0&&_.updateMatrixWorld(),jr.copy(_.matrixWorldInverse),Vr.multiplyMatrices(_.projectionMatrix,jr),c(p,p,_),m(p)},this.setSize=function(p,_){i=p,n=_,r=i/2,s=n/2,l.style.width=p+"px",l.style.height=_+"px"};function c(p,_,d){if(p.isCSS2DObject){Ct.setFromMatrixPosition(p.matrixWorld),Ct.applyMatrix4(Vr);const f=p.visible===!0&&Ct.z>=-1&&Ct.z<=1&&p.layers.test(d.layers)===!0;if(p.element.style.display=f===!0?"":"none",f===!0){p.onBeforeRender(t,_,d);const v=p.element;v.style.transform="translate("+-100*p.center.x+"%,"+-100*p.center.y+"%)translate("+(Ct.x*r+r)+"px,"+(-Ct.y*s+s)+"px)",v.parentNode!==l&&l.appendChild(v),p.onAfterRender(t,_,d)}const g={distanceToCameraSquared:u(d,p)};o.objects.set(p,g)}for(let f=0,g=p.children.length;f<g;f++)c(p.children[f],_,d)}function u(p,_){return Ur.setFromMatrixPosition(p.matrixWorld),Gr.setFromMatrixPosition(_.matrixWorld),Ur.distanceToSquared(Gr)}function h(p){const _=[];return p.traverse(function(d){d.isCSS2DObject&&_.push(d)}),_}function m(p){const _=h(p).sort(function(f,g){if(f.renderOrder!==g.renderOrder)return g.renderOrder-f.renderOrder;const v=o.objects.get(f).distanceToCameraSquared,y=o.objects.get(g).distanceToCameraSquared;return v-y}),d=_.length;for(let f=0,g=_.length;f<g;f++)_[f].element.style.zIndex=d-f}}}const Xr=new Y,Tc=new kt,Wr=new Y,ze=new U,Sc=new U;class Pc{constructor(e={}){const t=this;let i,n,r,s;const o={camera:{fov:0,style:""},objects:new WeakMap},l=e.element!==void 0?e.element:document.createElement("div");l.style.overflow="hidden",this.domElement=l;const c=document.createElement("div");c.style.transformOrigin="0 0",c.style.pointerEvents="none",l.appendChild(c);const u=document.createElement("div");u.style.transformStyle="preserve-3d",c.appendChild(u),this.getSize=function(){return{width:i,height:n}},this.render=function(d,f){const g=f.projectionMatrix.elements[5]*s;o.camera.fov!==g&&(c.style.perspective=f.isPerspectiveCamera?g+"px":"",o.camera.fov=g),f.view&&f.view.enabled?(c.style.transform=`translate( ${-f.view.offsetX*(i/f.view.width)}px, ${-f.view.offsetY*(n/f.view.height)}px )`,c.style.transform+=`scale( ${f.view.fullWidth/f.view.width}, ${f.view.fullHeight/f.view.height} )`):c.style.transform="",d.matrixWorldAutoUpdate===!0&&d.updateMatrixWorld(),f.parent===null&&f.matrixWorldAutoUpdate===!0&&f.updateMatrixWorld();let v,y;f.isOrthographicCamera&&(v=-(f.right+f.left)/2,y=(f.top+f.bottom)/2);const b=f.view&&f.view.enabled?f.view.height/f.view.fullHeight:1,T=(f.isOrthographicCamera?`scale( ${b} )scale(`+g+")translate("+h(v)+"px,"+h(y)+"px)"+m(f.matrixWorldInverse):`scale( ${b} )translateZ(`+g+"px)"+m(f.matrixWorldInverse))+"translate("+r+"px,"+s+"px)";o.camera.style!==T&&(u.style.transform=T,o.camera.style=T),_(d,d,f)},this.setSize=function(d,f){i=d,n=f,r=i/2,s=n/2,l.style.width=d+"px",l.style.height=f+"px",c.style.width=d+"px",c.style.height=f+"px",u.style.width=d+"px",u.style.height=f+"px"};function h(d){return Math.abs(d)<1e-10?0:d}function m(d){const f=d.elements;return"matrix3d("+h(f[0])+","+h(-f[1])+","+h(f[2])+","+h(f[3])+","+h(f[4])+","+h(-f[5])+","+h(f[6])+","+h(f[7])+","+h(f[8])+","+h(-f[9])+","+h(f[10])+","+h(f[11])+","+h(f[12])+","+h(-f[13])+","+h(f[14])+","+h(f[15])+")"}function p(d){const f=d.elements;return"translate(-50%,-50%)"+("matrix3d("+h(f[0])+","+h(f[1])+","+h(f[2])+","+h(f[3])+","+h(-f[4])+","+h(-f[5])+","+h(-f[6])+","+h(-f[7])+","+h(f[8])+","+h(f[9])+","+h(f[10])+","+h(f[11])+","+h(f[12])+","+h(f[13])+","+h(f[14])+","+h(f[15])+")")}function _(d,f,g,v){if(d.isCSS3DObject){const y=d.visible===!0&&d.layers.test(g.layers)===!0;if(d.element.style.display=y===!0?"":"none",y===!0){d.onBeforeRender(t,f,g);let b;d.isCSS3DSprite?(ze.copy(g.matrixWorldInverse),ze.transpose(),d.rotation2D!==0&&ze.multiply(Sc.makeRotationZ(d.rotation2D)),d.matrixWorld.decompose(Xr,Tc,Wr),ze.setPosition(Xr),ze.scale(Wr),ze.elements[3]=0,ze.elements[7]=0,ze.elements[11]=0,ze.elements[15]=1,b=p(ze)):b=p(d.matrixWorld);const w=d.element,T=o.objects.get(d);if(T===void 0||T.style!==b){w.style.transform=b;const S={style:b};o.objects.set(d,S)}w.parentNode!==u&&u.appendChild(w),d.onAfterRender(t,f,g)}}for(let y=0,b=d.children.length;y<b;y++)_(d.children[y],f,g)}}}var Zt=function(){var a=0,e=document.createElement("div");e.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",e.addEventListener("click",function(u){u.preventDefault(),i(++a%e.children.length)},!1);function t(u){return e.appendChild(u.dom),u}function i(u){for(var h=0;h<e.children.length;h++)e.children[h].style.display=h===u?"block":"none";a=u}var n=(performance||Date).now(),r=n,s=0,o=t(new Zt.Panel("FPS","#0ff","#002")),l=t(new Zt.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var c=t(new Zt.Panel("MB","#f08","#201"));return i(0),{REVISION:16,dom:e,addPanel:t,showPanel:i,begin:function(){n=(performance||Date).now()},end:function(){s++;var u=(performance||Date).now();if(l.update(u-n,200),u>=r+1e3&&(o.update(s*1e3/(u-r),100),r=u,s=0,c)){var h=performance.memory;c.update(h.usedJSHeapSize/1048576,h.jsHeapSizeLimit/1048576)}return u},update:function(){n=this.end()},domElement:e,setMode:i}};Zt.Panel=function(a,e,t){var i=1/0,n=0,r=Math.round,s=r(window.devicePixelRatio||1),o=80*s,l=48*s,c=3*s,u=2*s,h=3*s,m=15*s,p=74*s,_=30*s,d=document.createElement("canvas");d.width=o,d.height=l,d.style.cssText="width:80px;height:48px";var f=d.getContext("2d");return f.font="bold "+9*s+"px Helvetica,Arial,sans-serif",f.textBaseline="top",f.fillStyle=t,f.fillRect(0,0,o,l),f.fillStyle=e,f.fillText(a,c,u),f.fillRect(h,m,p,_),f.fillStyle=t,f.globalAlpha=.9,f.fillRect(h,m,p,_),{dom:d,update:function(g,v){i=Math.min(i,g),n=Math.max(n,g),f.fillStyle=t,f.globalAlpha=1,f.fillRect(0,0,o,m),f.fillStyle=e,f.fillText(r(g)+" "+a+" ("+r(i)+"-"+r(n)+")",c,u),f.drawImage(d,h+s,m,p-s,_,h,m,p-s,_),f.fillRect(h+p-s,m,s,_),f.fillStyle=t,f.globalAlpha=.9,f.fillRect(h+p-s,m,s,r((1-g/v)*_))}}};const Cc=Zt,Mc={day:"day",dusk:"dusk",night:"night"};class ho{constructor(e){this.viewer=e}setSkybox(e=Mc.day){const i=new ra().load([`/images/skybox/${e}/posx.jpg`,`/images/skybox/${e}/negx.jpg`,`/images/skybox/${e}/posy.jpg`,`/images/skybox/${e}/negy.jpg`,`/images/skybox/${e}/posz.jpg`,`/images/skybox/${e}/negz.jpg`]);this.viewer.scene.background=i}}class ci extends qe{constructor(){super(ci.Geometry,new Gt({opacity:0,transparent:!0})),this.isLensflare=!0,this.type="Lensflare",this.frustumCulled=!1,this.renderOrder=1/0;const e=new Y,t=new Y,i=new fr(16,16,dr),n=new fr(16,16,dr),r=ci.Geometry,s=new en({uniforms:{scale:{value:null},screenPosition:{value:null}},vertexShader:`

				precision highp float;

				uniform vec3 screenPosition;
				uniform vec2 scale;

				attribute vec3 position;

				void main() {

					gl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );

				}`,fragmentShader:`

				precision highp float;

				void main() {

					gl_FragColor = vec4( 1.0, 0.0, 1.0, 1.0 );

				}`,depthTest:!0,depthWrite:!1,transparent:!1}),o=new en({uniforms:{map:{value:i},scale:{value:null},screenPosition:{value:null}},vertexShader:`

				precision highp float;

				uniform vec3 screenPosition;
				uniform vec2 scale;

				attribute vec3 position;
				attribute vec2 uv;

				varying vec2 vUV;

				void main() {

					vUV = uv;

					gl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );

				}`,fragmentShader:`

				precision highp float;

				uniform sampler2D map;

				varying vec2 vUV;

				void main() {

					gl_FragColor = texture2D( map, vUV );

				}`,depthTest:!1,depthWrite:!1,transparent:!1}),l=new qe(r,s),c=[],u=_t.Shader,h=new en({uniforms:{map:{value:null},occlusionMap:{value:n},color:{value:new ie(16777215)},scale:{value:new We},screenPosition:{value:new Y}},vertexShader:u.vertexShader,fragmentShader:u.fragmentShader,blending:sa,transparent:!0,depthWrite:!1}),m=new qe(r,h);this.addElement=function(g){c.push(g)};const p=new We,_=new We,d=new oa,f=new ui;this.onBeforeRender=function(g,v,y){g.getCurrentViewport(f);const b=f.w/f.z,w=f.z/2,T=f.w/2;let S=16/f.w;if(p.set(S*b,S),d.min.set(f.x,f.y),d.max.set(f.x+(f.z-16),f.y+(f.w-16)),t.setFromMatrixPosition(this.matrixWorld),t.applyMatrix4(y.matrixWorldInverse),!(t.z>0)&&(e.copy(t).applyMatrix4(y.projectionMatrix),_.x=f.x+e.x*w+w-8,_.y=f.y+e.y*T+T-8,d.containsPoint(_))){g.copyFramebufferToTexture(_,i);let P=s.uniforms;P.scale.value=p,P.screenPosition.value=e,g.renderBufferDirect(y,null,r,s,l,null),g.copyFramebufferToTexture(_,n),P=o.uniforms,P.scale.value=p,P.screenPosition.value=e,g.renderBufferDirect(y,null,r,o,l,null);const C=-e.x*2,k=-e.y*2;for(let A=0,L=c.length;A<L;A++){const D=c[A],j=h.uniforms;j.color.value.copy(D.color),j.map.value=D.texture,j.screenPosition.value.x=e.x+C*D.distance,j.screenPosition.value.y=e.y+k*D.distance,S=D.size/f.w;const V=f.w/f.z;j.scale.value.set(S*V,S),h.uniformsNeedUpdate=!0,g.renderBufferDirect(y,null,r,h,m,null)}}},this.dispose=function(){s.dispose(),o.dispose(),h.dispose(),i.dispose(),n.dispose();for(let g=0,v=c.length;g<v;g++)c[g].texture.dispose()}}}class _t{constructor(e,t=1,i=0,n=new ie(16777215)){this.texture=e,this.size=t,this.distance=i,this.color=n}}_t.Shader={uniforms:{map:{value:null},occlusionMap:{value:null},color:{value:null},scale:{value:null},screenPosition:{value:null}},vertexShader:`

		precision highp float;

		uniform vec3 screenPosition;
		uniform vec2 scale;

		uniform sampler2D occlusionMap;

		attribute vec3 position;
		attribute vec2 uv;

		varying vec2 vUV;
		varying float vVisibility;

		void main() {

			vUV = uv;

			vec2 pos = position.xy;

			vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );

			vVisibility =        visibility.r / 9.0;
			vVisibility *= 1.0 - visibility.g / 9.0;
			vVisibility *=       visibility.b / 9.0;

			gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );

		}`,fragmentShader:`

		precision highp float;

		uniform sampler2D map;
		uniform vec3 color;

		varying vec2 vUV;
		varying float vVisibility;

		void main() {

			vec4 texture = texture2D( map, vUV );
			texture.a *= vVisibility;
			gl_FragColor = texture;
			gl_FragColor.rgb *= color;

		}`};ci.Geometry=function(){const a=new At,e=new Float32Array([-1,-1,0,0,0,1,-1,0,1,0,1,1,0,1,1,-1,1,0,0,1]),t=new aa(e,5);return a.setIndex([0,1,2,0,2,3]),a.setAttribute("position",new pr(t,3,0,!1)),a.setAttribute("uv",new pr(t,2,3,!1)),a}();class Ec{constructor(e){this.scene=e.scene;const t=new zn;this.textureFlare0=t.load("resources/lensflare/lensflare0.png"),this.textureFlare3=t.load("resources/lensflare/lensflare3.png")}addToScene(e=200,t=200,i=200){this.light=new Pi(16777215,0,0),this.light.color.setHSL(.995,.5,.9),this.light.position.set(e,t,i),this.scene.add(this.light);const n=new ci;n.addElement(new _t(this.textureFlare0,700,0,this.light.color)),n.addElement(new _t(this.textureFlare3,60,.6)),n.addElement(new _t(this.textureFlare3,70,.7)),n.addElement(new _t(this.textureFlare3,120,.9)),n.addElement(new _t(this.textureFlare3,70,1)),this.light.add(n)}setPosition(e=200,t=200,i=200){this.light&&this.light.position.set()}}class kc{constructor(e,t=[200,200,200],i={color:"rgb(255,255,255)"}){this.viewer=e,this.light=new es(new ie(i.color)),this.setPosition(t),this.setOption(i),this.viewer.scene.add(this.light)}setOption(e={}){const t=this.light;t.intensity=e.intensity||2,t.castShadow=e.castShadow||!0,t.shadow.mapSize.width=e.mapSize||2048,t.shadow.mapSize.height=e.mapSize||2048;const i=80;t.shadow.camera.left=-i,t.shadow.camera.right=i,t.shadow.camera.top=i,t.shadow.camera.bottom=-i,t.shadow.bias=-5e-4,t.shadow.camera.near=.01,t.shadow.camera.far=2e3}setPosition([e,t,i]){this.light&&this.light.position.set(e||0,t||0,i||0)}}class Oc{constructor(e,t={color:"rgb(255,255,255)"}){this.viewer=e,this.light=new ts(4210752),this.setOption(t),this.viewer.scene.add(this.light)}setOption(e={}){this.light.intensity=e.intensity||1}}class Dc{constructor(e,t=[0,40,0],i={color:"rgb(255,255,255)"}){this.viewer=e;const n=new ie(i.color);this.light=new Pi(n),this.light.castShadow=!0,this.mesh=new qe(new is(1,10,10),new Gt({color:n})),this.light.add(this.mesh),this.viewer.scene.add(this.light),this.setOption(i),this.setPosition(t)}setOption(e={}){this.light.intensity=e.intensity||20,this.light.distance=e.distance||200,this.light.decay=e.decay||1}setPosition([e,t,i]){this.light&&this.light.position.set(e||0,t||0,i||0)}}class Ac{constructor(e,t=[0,40,0],i={color:"rgb(255,255,255)"}){this.viewer=e;const n=new ie(i.color);this.light=new Ci(n),this.light.castShadow=!0,this.mesh=new qe(new is(1,10,10),new Gt({color:n})),this.light.add(this.mesh),this.viewer.scene.add(this.light),this.setOption(i),this.setPosition(t)}setOption(e={}){this.light.intensity=e.intensity||20,this.light.angle=e.angle||1,this.light.distance=e.distance||200,this.light.decay=e.decay||1,this.light.castShadow=!0,this.light.shadow.mapSize.width=1024,this.light.shadow.mapSize.height=1024,this.light.shadow.camera.near=.1,this.light.shadow.camera.far=4e3,this.light.shadow.camera.fov=30}setPosition([e,t,i]){this.light&&this.light.position.set(e||0,t||0,i||0)}}class Lc{constructor(e,t=[0,40,0],i={color:"rgb(255,255,255)"}){this.viewer=e;const n=new ie(i.color);this.light=new la(n,i.intensity||20,i.width||10,i.height||10),this.geometry=new ca(i.width||10,i.height||10),this.mesh=new qe(this.geometry,new Gt({side:Mi,color:n})),this.light.add(this.mesh),this.light.rotation.x=Math.PI,this.viewer.scene.add(this.light),this.setPosition(t)}setOption(e={}){this.light.intensity=e.intensity||20,this.light.ambient=e.ambient||1,this.light.width=e.width||10,this.light.height=e.height||10}setPosition([e,t,i]){this.light&&this.light.position.set(e||0,t||0,i||0)}}class fo{constructor(e){this.viewer=e,this.lightList=[]}addDirectionalLight(e=[200,200,200],t={color:"rgb(255,255,255)"}){const i=new kc(this.viewer,e,t);return this.lightList.push(i),i}addAmbientLight(){const e=new Oc(this.viewer);return this.lightList.push(e),e}addPointLight(e=[0,40,0],t={color:"rgb(255,255,255)"}){const i=new Dc(this.viewer,e,t);return this.lightList.push(i),i}addSpotLight(e=[0,40,0],t={color:"rgb(255,255,255)"}){const i=new Ac(this.viewer,e,t);return this.lightList.push(i),i}addRectAreaLight(e=[0,40,0],t={color:"rgb(255,255,255)"}){const i=new Lc(this.viewer,e,t);return this.lightList.push(i),i}addSunLensflare(e=200,t=200,i=200){this.sunLensflare=new Ec(this.viewer),this.sunLensflare.addToScene(e,t,i)}removeLight(e){this.viewer.scene.remove(e)}}const Rc={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			gl_FragColor = texture2D( tDiffuse, vUv );
			gl_FragColor.a *= opacity;


		}`};class rr{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const Fc=new ns(-1,1,1,-1,0,1),sr=new At;sr.setAttribute("position",new tt([-1,3,0,-1,-1,0,3,-1,0],3));sr.setAttribute("uv",new tt([0,2,0,0,2,0],2));class Ic{constructor(e){this._mesh=new qe(sr,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,Fc)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}class Bc extends rr{constructor(e,t){super(),this.textureID=t!==void 0?t:"tDiffuse",e instanceof mr?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=ua.clone(e.uniforms),this.material=new mr({defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new Ic(this.material)}render(e,t,i){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=i.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}dispose(){this.material.dispose(),this.fsQuad.dispose()}}class Nr extends rr{constructor(e,t){super(),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,t,i){const n=e.getContext(),r=e.state;r.buffers.color.setMask(!1),r.buffers.depth.setMask(!1),r.buffers.color.setLocked(!0),r.buffers.depth.setLocked(!0);let s,o;this.inverse?(s=0,o=1):(s=1,o=0),r.buffers.stencil.setTest(!0),r.buffers.stencil.setOp(n.REPLACE,n.REPLACE,n.REPLACE),r.buffers.stencil.setFunc(n.ALWAYS,s,4294967295),r.buffers.stencil.setClear(o),r.buffers.stencil.setLocked(!0),e.setRenderTarget(i),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),r.buffers.color.setLocked(!1),r.buffers.depth.setLocked(!1),r.buffers.stencil.setLocked(!1),r.buffers.stencil.setFunc(n.EQUAL,1,4294967295),r.buffers.stencil.setOp(n.KEEP,n.KEEP,n.KEEP),r.buffers.stencil.setLocked(!0)}}class zc extends rr{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class jc{constructor(e,t){if(this.renderer=e,this._pixelRatio=e.getPixelRatio(),t===void 0){const i=e.getSize(new We);this._width=i.width,this._height=i.height,t=new ha(this._width*this._pixelRatio,this._height*this._pixelRatio),t.texture.name="EffectComposer.rt1"}else this._width=t.width,this._height=t.height;this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new Bc(Rc),this.clock=new rs}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const t=this.passes.indexOf(e);t!==-1&&this.passes.splice(t,1)}isLastEnabledPass(e){for(let t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());const t=this.renderer.getRenderTarget();let i=!1;for(let n=0,r=this.passes.length;n<r;n++){const s=this.passes[n];if(s.enabled!==!1){if(s.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(n),s.render(this.renderer,this.writeBuffer,this.readBuffer,e,i),s.needsSwap){if(i){const o=this.renderer.getContext(),l=this.renderer.state.buffers.stencil;l.setFunc(o.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),l.setFunc(o.EQUAL,1,4294967295)}this.swapBuffers()}Nr!==void 0&&(s instanceof Nr?i=!0:s instanceof zc&&(i=!1))}}this.renderer.setRenderTarget(t)}reset(e){if(e===void 0){const t=this.renderer.getSize(new We);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,t){this._width=e,this._height=t;const i=this._width*this._pixelRatio,n=this._height*this._pixelRatio;this.renderTarget1.setSize(i,n),this.renderTarget2.setSize(i,n);for(let r=0;r<this.passes.length;r++)this.passes[r].setSize(i,n)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}var Ii,po;class Vc{constructor(e,t,i,n="click"){we(this,Ii);return this.viewer=e,this.isSelect=t,this.callback=i,this.type=n,this.composer=new jc(this.viewer.renderer),this}startSelect(){this.stopSelect(),this.bingEvent=xe(this,Ii,po).bind(this,this),this.viewer.renderer.domElement.addEventListener(this.type,this.bingEvent)}stopSelect(){this.viewer.renderer.domElement.removeEventListener(this.type,this.bingEvent)}}Ii=new WeakSet,po=function(e,t){const i=new jn,n=new We;n.x=t.offsetX/e.viewer.renderer.domElement.clientWidth*2-1,n.y=-(t.offsetY/e.viewer.renderer.domElement.clientHeight)*2+1,i.setFromCamera(n,e.viewer.camera);const r=i.intersectObject(e.viewer.scene,!0);r.length>0&&r[0]&&e.callback(r[0].object,r[0].point)};var Bi,mo,zi,_o,ji,go,Vi,vo,Ui,yo,Gi,wo,Xi,xo,Wi,bo,Ni,To,Hi,So;class Uc{constructor(e){we(this,Bi);we(this,zi);we(this,ji);we(this,Vi);we(this,Ui);we(this,Gi);we(this,Xi);we(this,Wi);we(this,Ni);we(this,Hi);fa.enabled=!0,this.id=e,this.renderer=void 0,this.scene=void 0,this.camera=void 0,this.controls=void 0,this.animateEventList=[],xe(this,Bi,mo).call(this)}addAxis(){this.scene.add(new da(100))}addStats(){this.statsControls||(this.statsControls=new Cc),this.statsControls.dom.style.position="absolute",this.viewerDom.appendChild(this.statsControls.dom),this.statsUpdateObj={fun:xe(this,zi,_o),content:this.statsControls},this.addAnimate(this.statsUpdateObj)}removeStats(){this.statsControls&&this.statsUpdateObj&&(this.viewerDom.removeChild(this.statsControls.dom),this.removeAnimate(this.statsUpdateObj))}addAnimate(e){this.animateEventList.push(e)}removeAnimate(e){this.animateEventList.map((t,i)=>{t===e&&this.animateEventList.splice(i,1)})}startSelectEvent(e,t,i){this.mouseEvent||(this.mouseEvent=new Vc(this,t,i,e)),this.mouseEvent.startSelect()}stopSelectEvent(){var e;(e=this.mouseEvent)==null||e.stopSelect()}}Bi=new WeakSet,mo=function(){xe(this,Ui,yo).call(this),xe(this,Gi,wo).call(this),xe(this,Xi,xo).call(this),xe(this,Wi,bo).call(this),xe(this,Ni,To).call(this),xe(this,Hi,So).call(this);const e=()=>{requestAnimationFrame(e),xe(this,ji,go).call(this),xe(this,Vi,vo).call(this),this.animateEventList.forEach(t=>{t.fun&&t.content&&t.fun(t.content)})};e()},zi=new WeakSet,_o=function(e){e.update()},ji=new WeakSet,go=function(){this.controls.update(),this.camera.aspect=this.viewerDom.clientWidth/this.viewerDom.clientHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.viewerDom.clientWidth,this.viewerDom.clientHeight),this.renderer.setPixelRatio(window.devicePixelRatio),this.labelRenderer.setSize(this.viewerDom.clientWidth,this.viewerDom.clientHeight),this.css3DRenderer.setSize(this.viewerDom.clientWidth,this.viewerDom.clientHeight)},Vi=new WeakSet,vo=function(){this.renderer.render(this.scene,this.camera),this.labelRenderer.render(this.scene,this.camera),this.css3DRenderer.render(this.css3dScene,this.camera)},Ui=new WeakSet,yo=function(){this.viewerDom=document.getElementById(this.id),this.renderer=new pa({antialias:!0,alpha:!0,precision:"highp",premultipliedAlpha:!0}),this.renderer.clearDepth(),this.renderer.shadowMap.enabled=!0,this.viewerDom.appendChild(this.renderer.domElement),this.labelRenderer=new bc,this.labelRenderer.domElement.style.zIndex=2,this.labelRenderer.domElement.style.position="absolute",this.labelRenderer.domElement.style.top="0px",this.labelRenderer.domElement.style.left="0px",this.labelRenderer.domElement.style.pointerEvents="none",this.viewerDom.appendChild(this.labelRenderer.domElement),this.css3DRenderer=new Pc,this.css3DRenderer.domElement.style.zIndex=0,this.css3DRenderer.domElement.style.position="absolute",this.css3DRenderer.domElement.style.top="0px",this.css3DRenderer.domElement.style.left="0px",this.css3DRenderer.domElement.style.pointerEvents="none",this.viewerDom.appendChild(this.css3DRenderer.domElement)},Gi=new WeakSet,wo=function(){this.camera=new ss(45,window.innerWidth/window.innerHeight,.1,5e5),this.camera.position.set(50,0,50),this.camera.lookAt(0,0,0)},Xi=new WeakSet,xo=function(){this.scene=new _r,this.css3dScene=new _r,this.scene.background=new ie("rgb(5,24,38)")},Wi=new WeakSet,bo=function(){this.controls=new Fa(this.camera,this.renderer.domElement),this.controls.enableDamping=!1,this.controls.screenSpacePanning=!1},Ni=new WeakSet,To=function(){this.skyboxs||(this.skyboxs=new ho(this)),this.skyboxs.setSkybox()},Hi=new WeakSet,So=function(){this.lights||(this.lights=new fo(this))};/*!
fflate - fast JavaScript compression/decompression
<https://101arrowz.github.io/fflate>
Licensed under MIT. https://github.com/101arrowz/fflate/blob/master/LICENSE
version 0.6.9
*/var Hr=function(a){return URL.createObjectURL(new Blob([a],{type:"text/javascript"}))};try{URL.revokeObjectURL(Hr(""))}catch{Hr=function(e){return"data:application/javascript;charset=UTF-8,"+encodeURI(e)}}var De=Uint8Array,ot=Uint16Array,Ln=Uint32Array,Po=new De([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Co=new De([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Gc=new De([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Mo=function(a,e){for(var t=new ot(31),i=0;i<31;++i)t[i]=e+=1<<a[i-1];for(var n=new Ln(t[30]),i=1;i<30;++i)for(var r=t[i];r<t[i+1];++r)n[r]=r-t[i]<<5|i;return[t,n]},Eo=Mo(Po,2),ko=Eo[0],Xc=Eo[1];ko[28]=258,Xc[258]=28;var Wc=Mo(Co,0),Nc=Wc[0],Rn=new ot(32768);for(var W=0;W<32768;++W){var et=(W&43690)>>>1|(W&21845)<<1;et=(et&52428)>>>2|(et&13107)<<2,et=(et&61680)>>>4|(et&3855)<<4,Rn[W]=((et&65280)>>>8|(et&255)<<8)>>>1}var Jt=function(a,e,t){for(var i=a.length,n=0,r=new ot(e);n<i;++n)++r[a[n]-1];var s=new ot(e);for(n=0;n<e;++n)s[n]=s[n-1]+r[n-1]<<1;var o;if(t){o=new ot(1<<e);var l=15-e;for(n=0;n<i;++n)if(a[n])for(var c=n<<4|a[n],u=e-a[n],h=s[a[n]-1]++<<u,m=h|(1<<u)-1;h<=m;++h)o[Rn[h]>>>l]=c}else for(o=new ot(i),n=0;n<i;++n)a[n]&&(o[n]=Rn[s[a[n]-1]++]>>>15-a[n]);return o},fi=new De(288);for(var W=0;W<144;++W)fi[W]=8;for(var W=144;W<256;++W)fi[W]=9;for(var W=256;W<280;++W)fi[W]=7;for(var W=280;W<288;++W)fi[W]=8;var Oo=new De(32);for(var W=0;W<32;++W)Oo[W]=5;var Hc=Jt(fi,9,1),Yc=Jt(Oo,5,1),un=function(a){for(var e=a[0],t=1;t<a.length;++t)a[t]>e&&(e=a[t]);return e},Ie=function(a,e,t){var i=e/8|0;return(a[i]|a[i+1]<<8)>>(e&7)&t},hn=function(a,e){var t=e/8|0;return(a[t]|a[t+1]<<8|a[t+2]<<16)>>(e&7)},$c=function(a){return(a/8|0)+(a&7&&1)},qc=function(a,e,t){(e==null||e<0)&&(e=0),(t==null||t>a.length)&&(t=a.length);var i=new(a instanceof ot?ot:a instanceof Ln?Ln:De)(t-e);return i.set(a.subarray(e,t)),i},Kc=function(a,e,t){var i=a.length;if(!i||t&&!t.l&&i<5)return e||new De(0);var n=!e||t,r=!t||t.i;t||(t={}),e||(e=new De(i*3));var s=function(di){var pi=e.length;if(di>pi){var mi=new De(Math.max(pi*2,di));mi.set(e),e=mi}},o=t.f||0,l=t.p||0,c=t.b||0,u=t.l,h=t.d,m=t.m,p=t.n,_=i*8;do{if(!u){t.f=o=Ie(a,l,1);var d=Ie(a,l+1,3);if(l+=3,d)if(d==1)u=Hc,h=Yc,m=9,p=5;else if(d==2){var y=Ie(a,l,31)+257,b=Ie(a,l+10,15)+4,w=y+Ie(a,l+5,31)+1;l+=14;for(var T=new De(w),S=new De(19),P=0;P<b;++P)S[Gc[P]]=Ie(a,l+P*3,7);l+=b*3;for(var C=un(S),k=(1<<C)-1,A=Jt(S,C,1),P=0;P<w;){var L=A[Ie(a,l,k)];l+=L&15;var f=L>>>4;if(f<16)T[P++]=f;else{var D=0,j=0;for(f==16?(j=3+Ie(a,l,3),l+=2,D=T[P-1]):f==17?(j=3+Ie(a,l,7),l+=3):f==18&&(j=11+Ie(a,l,127),l+=7);j--;)T[P++]=D}}var V=T.subarray(0,y),B=T.subarray(y);m=un(V),p=un(B),u=Jt(V,m,1),h=Jt(B,p,1)}else throw"invalid block type";else{var f=$c(l)+4,g=a[f-4]|a[f-3]<<8,v=f+g;if(v>i){if(r)throw"unexpected EOF";break}n&&s(c+g),e.set(a.subarray(f,v),c),t.b=c+=g,t.p=l=v*8;continue}if(l>_){if(r)throw"unexpected EOF";break}}n&&s(c+131072);for(var q=(1<<m)-1,ae=(1<<p)-1,Be=l;;Be=l){var D=u[hn(a,l)&q],fe=D>>>4;if(l+=D&15,l>_){if(r)throw"unexpected EOF";break}if(!D)throw"invalid length/literal";if(fe<256)e[c++]=fe;else if(fe==256){Be=l,u=null;break}else{var Fe=fe-254;if(fe>264){var P=fe-257,le=Po[P];Fe=Ie(a,l,(1<<le)-1)+ko[P],l+=le}var Ze=h[hn(a,l)&ae],ce=Ze>>>4;if(!Ze)throw"invalid distance";l+=Ze&15;var B=Nc[ce];if(ce>3){var le=Co[ce];B+=hn(a,l)&(1<<le)-1,l+=le}if(l>_){if(r)throw"unexpected EOF";break}n&&s(c+131072);for(var ke=c+Fe;c<ke;c+=4)e[c]=e[c-B],e[c+1]=e[c+1-B],e[c+2]=e[c+2-B],e[c+3]=e[c+3-B];c=ke}}t.l=u,t.p=Be,t.b=c,u&&(o=1,t.m=m,t.d=h,t.n=p)}while(!o);return c==e.length?e:qc(e,0,c)},Qc=new De(0),Zc=function(a){if((a[0]&15)!=8||a[0]>>>4>7||(a[0]<<8|a[1])%31)throw"invalid zlib data";if(a[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function Jc(a,e){return Kc((Zc(a),a.subarray(2,-4)),e)}var eu=typeof TextDecoder<"u"&&new TextDecoder,tu=0;try{eu.decode(Qc,{stream:!0}),tu=1}catch{}function Do(a,e,t){const i=t.length-a-1;if(e>=t[i])return i-1;if(e<=t[a])return a;let n=a,r=i,s=Math.floor((n+r)/2);for(;e<t[s]||e>=t[s+1];)e<t[s]?r=s:n=s,s=Math.floor((n+r)/2);return s}function iu(a,e,t,i){const n=[],r=[],s=[];n[0]=1;for(let o=1;o<=t;++o){r[o]=e-i[a+1-o],s[o]=i[a+o]-e;let l=0;for(let c=0;c<o;++c){const u=s[c+1],h=r[o-c],m=n[c]/(u+h);n[c]=l+u*m,l=h*m}n[o]=l}return n}function nu(a,e,t,i){const n=Do(a,i,e),r=iu(n,i,a,e),s=new ui(0,0,0,0);for(let o=0;o<=a;++o){const l=t[n-a+o],c=r[o],u=l.w*c;s.x+=l.x*u,s.y+=l.y*u,s.z+=l.z*u,s.w+=l.w*c}return s}function ru(a,e,t,i,n){const r=[];for(let h=0;h<=t;++h)r[h]=0;const s=[];for(let h=0;h<=i;++h)s[h]=r.slice(0);const o=[];for(let h=0;h<=t;++h)o[h]=r.slice(0);o[0][0]=1;const l=r.slice(0),c=r.slice(0);for(let h=1;h<=t;++h){l[h]=e-n[a+1-h],c[h]=n[a+h]-e;let m=0;for(let p=0;p<h;++p){const _=c[p+1],d=l[h-p];o[h][p]=_+d;const f=o[p][h-1]/o[h][p];o[p][h]=m+_*f,m=d*f}o[h][h]=m}for(let h=0;h<=t;++h)s[0][h]=o[h][t];for(let h=0;h<=t;++h){let m=0,p=1;const _=[];for(let d=0;d<=t;++d)_[d]=r.slice(0);_[0][0]=1;for(let d=1;d<=i;++d){let f=0;const g=h-d,v=t-d;h>=d&&(_[p][0]=_[m][0]/o[v+1][g],f=_[p][0]*o[g][v]);const y=g>=-1?1:-g,b=h-1<=v?d-1:t-h;for(let T=y;T<=b;++T)_[p][T]=(_[m][T]-_[m][T-1])/o[v+1][g+T],f+=_[p][T]*o[g+T][v];h<=v&&(_[p][d]=-_[m][d-1]/o[v+1][h],f+=_[p][d]*o[h][v]),s[d][h]=f;const w=m;m=p,p=w}}let u=t;for(let h=1;h<=i;++h){for(let m=0;m<=t;++m)s[h][m]*=u;u*=t-h}return s}function su(a,e,t,i,n){const r=n<a?n:a,s=[],o=Do(a,i,e),l=ru(o,i,a,r,e),c=[];for(let u=0;u<t.length;++u){const h=t[u].clone(),m=h.w;h.x*=m,h.y*=m,h.z*=m,c[u]=h}for(let u=0;u<=r;++u){const h=c[o-a].clone().multiplyScalar(l[u][0]);for(let m=1;m<=a;++m)h.add(c[o-a+m].clone().multiplyScalar(l[u][m]));s[u]=h}for(let u=r+1;u<=n+1;++u)s[u]=new ui(0,0,0);return s}function ou(a,e){let t=1;for(let n=2;n<=a;++n)t*=n;let i=1;for(let n=2;n<=e;++n)i*=n;for(let n=2;n<=a-e;++n)i*=n;return t/i}function au(a){const e=a.length,t=[],i=[];for(let r=0;r<e;++r){const s=a[r];t[r]=new Y(s.x,s.y,s.z),i[r]=s.w}const n=[];for(let r=0;r<e;++r){const s=t[r].clone();for(let o=1;o<=r;++o)s.sub(n[r-o].clone().multiplyScalar(ou(r,o)*i[o]));n[r]=s.divideScalar(i[0])}return n}function lu(a,e,t,i,n){const r=su(a,e,t,i,n);return au(r)}class cu extends ma{constructor(e,t,i,n,r){super(),this.degree=e,this.knots=t,this.controlPoints=[],this.startKnot=n||0,this.endKnot=r||this.knots.length-1;for(let s=0;s<i.length;++s){const o=i[s];this.controlPoints[s]=new ui(o.x,o.y,o.z,o.w)}}getPoint(e,t=new Y){const i=t,n=this.knots[this.startKnot]+e*(this.knots[this.endKnot]-this.knots[this.startKnot]),r=nu(this.degree,this.knots,this.controlPoints,n);return r.w!==1&&r.divideScalar(r.w),i.set(r.x,r.y,r.z)}getTangent(e,t=new Y){const i=t,n=this.knots[0]+e*(this.knots[this.knots.length-1]-this.knots[0]),r=lu(this.degree,this.knots,this.controlPoints,n,1);return i.copy(r[1]).normalize(),i}}let R,Z,de;class uu extends _a{constructor(e){super(e)}load(e,t,i,n){const r=this,s=r.path===""?ga.extractUrlBase(e):r.path,o=new va(this.manager);o.setPath(r.path),o.setResponseType("arraybuffer"),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,function(l){try{t(r.parse(l,s))}catch(c){n?n(c):console.error(c),r.manager.itemError(e)}},i,n)}parse(e,t){if(_u(e))R=new mu().parse(e);else{const n=Fo(e);if(!gu(n))throw new Error("THREE.FBXLoader: Unknown format.");if($r(n)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+$r(n));R=new pu().parse(n)}const i=new zn(this.manager).setPath(this.resourcePath||t).setCrossOrigin(this.crossOrigin);return new hu(i,this.manager).parse(R)}}class hu{constructor(e,t){this.textureLoader=e,this.manager=t}parse(){Z=this.parseConnections();const e=this.parseImages(),t=this.parseTextures(e),i=this.parseMaterials(t),n=this.parseDeformers(),r=new fu().parse(n);return this.parseScene(n,r,i),de}parseConnections(){const e=new Map;return"Connections"in R&&R.Connections.connections.forEach(function(i){const n=i[0],r=i[1],s=i[2];e.has(n)||e.set(n,{parents:[],children:[]});const o={ID:r,relationship:s};e.get(n).parents.push(o),e.has(r)||e.set(r,{parents:[],children:[]});const l={ID:n,relationship:s};e.get(r).children.push(l)}),e}parseImages(){const e={},t={};if("Video"in R.Objects){const i=R.Objects.Video;for(const n in i){const r=i[n],s=parseInt(n);if(e[s]=r.RelativeFilename||r.Filename,"Content"in r){const o=r.Content instanceof ArrayBuffer&&r.Content.byteLength>0,l=typeof r.Content=="string"&&r.Content!=="";if(o||l){const c=this.parseImage(i[n]);t[r.RelativeFilename||r.Filename]=c}}}}for(const i in e){const n=e[i];t[n]!==void 0?e[i]=t[n]:e[i]=e[i].split("\\").pop()}return e}parseImage(e){const t=e.Content,i=e.RelativeFilename||e.Filename,n=i.slice(i.lastIndexOf(".")+1).toLowerCase();let r;switch(n){case"bmp":r="image/bmp";break;case"jpg":case"jpeg":r="image/jpeg";break;case"png":r="image/png";break;case"tif":r="image/tiff";break;case"tga":this.manager.getHandler(".tga")===null&&console.warn("FBXLoader: TGA loader not found, skipping ",i),r="image/tga";break;default:console.warn('FBXLoader: Image type "'+n+'" is not supported.');return}if(typeof t=="string")return"data:"+r+";base64,"+t;{const s=new Uint8Array(t);return window.URL.createObjectURL(new Blob([s],{type:r}))}}parseTextures(e){const t=new Map;if("Texture"in R.Objects){const i=R.Objects.Texture;for(const n in i){const r=this.parseTexture(i[n],e);t.set(parseInt(n),r)}}return t}parseTexture(e,t){const i=this.loadTexture(e,t);i.ID=e.id,i.name=e.attrName;const n=e.WrapModeU,r=e.WrapModeV,s=n!==void 0?n.value:0,o=r!==void 0?r.value:0;if(i.wrapS=s===0?gr:vr,i.wrapT=o===0?gr:vr,"Scaling"in e){const l=e.Scaling.value;i.repeat.x=l[0],i.repeat.y=l[1]}if("Translation"in e){const l=e.Translation.value;i.offset.x=l[0],i.offset.y=l[1]}return i}loadTexture(e,t){let i;const n=this.textureLoader.path,r=Z.get(e.id).children;r!==void 0&&r.length>0&&t[r[0].ID]!==void 0&&(i=t[r[0].ID],(i.indexOf("blob:")===0||i.indexOf("data:")===0)&&this.textureLoader.setPath(void 0));let s;const o=e.FileName.slice(-3).toLowerCase();if(o==="tga"){const l=this.manager.getHandler(".tga");l===null?(console.warn("FBXLoader: TGA loader not found, creating placeholder texture for",e.RelativeFilename),s=new yr):(l.setPath(this.textureLoader.path),s=l.load(i))}else o==="psd"?(console.warn("FBXLoader: PSD textures are not supported, creating placeholder texture for",e.RelativeFilename),s=new yr):s=this.textureLoader.load(i);return this.textureLoader.setPath(n),s}parseMaterials(e){const t=new Map;if("Material"in R.Objects){const i=R.Objects.Material;for(const n in i){const r=this.parseMaterial(i[n],e);r!==null&&t.set(parseInt(n),r)}}return t}parseMaterial(e,t){const i=e.id,n=e.attrName;let r=e.ShadingModel;if(typeof r=="object"&&(r=r.value),!Z.has(i))return null;const s=this.parseParameters(e,t,i);let o;switch(r.toLowerCase()){case"phong":o=new $t;break;case"lambert":o=new ya;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',r),o=new $t;break}return o.setValues(s),o.name=n,o}parseParameters(e,t,i){const n={};e.BumpFactor&&(n.bumpScale=e.BumpFactor.value),e.Diffuse?n.color=new ie().fromArray(e.Diffuse.value).convertSRGBToLinear():e.DiffuseColor&&(e.DiffuseColor.type==="Color"||e.DiffuseColor.type==="ColorRGB")&&(n.color=new ie().fromArray(e.DiffuseColor.value).convertSRGBToLinear()),e.DisplacementFactor&&(n.displacementScale=e.DisplacementFactor.value),e.Emissive?n.emissive=new ie().fromArray(e.Emissive.value).convertSRGBToLinear():e.EmissiveColor&&(e.EmissiveColor.type==="Color"||e.EmissiveColor.type==="ColorRGB")&&(n.emissive=new ie().fromArray(e.EmissiveColor.value).convertSRGBToLinear()),e.EmissiveFactor&&(n.emissiveIntensity=parseFloat(e.EmissiveFactor.value)),e.Opacity&&(n.opacity=parseFloat(e.Opacity.value)),n.opacity<1&&(n.transparent=!0),e.ReflectionFactor&&(n.reflectivity=e.ReflectionFactor.value),e.Shininess&&(n.shininess=e.Shininess.value),e.Specular?n.specular=new ie().fromArray(e.Specular.value).convertSRGBToLinear():e.SpecularColor&&e.SpecularColor.type==="Color"&&(n.specular=new ie().fromArray(e.SpecularColor.value).convertSRGBToLinear());const r=this;return Z.get(i).children.forEach(function(s){const o=s.relationship;switch(o){case"Bump":n.bumpMap=r.getTexture(t,s.ID);break;case"Maya|TEX_ao_map":n.aoMap=r.getTexture(t,s.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":n.map=r.getTexture(t,s.ID),n.map!==void 0&&(n.map.colorSpace=_i);break;case"DisplacementColor":n.displacementMap=r.getTexture(t,s.ID);break;case"EmissiveColor":n.emissiveMap=r.getTexture(t,s.ID),n.emissiveMap!==void 0&&(n.emissiveMap.colorSpace=_i);break;case"NormalMap":case"Maya|TEX_normal_map":n.normalMap=r.getTexture(t,s.ID);break;case"ReflectionColor":n.envMap=r.getTexture(t,s.ID),n.envMap!==void 0&&(n.envMap.mapping=wa,n.envMap.colorSpace=_i);break;case"SpecularColor":n.specularMap=r.getTexture(t,s.ID),n.specularMap!==void 0&&(n.specularMap.colorSpace=_i);break;case"TransparentColor":case"TransparencyFactor":n.alphaMap=r.getTexture(t,s.ID),n.transparent=!0;break;case"AmbientColor":case"ShininessExponent":case"SpecularFactor":case"VectorDisplacementColor":default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",o);break}}),n}getTexture(e,t){return"LayeredTexture"in R.Objects&&t in R.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),t=Z.get(t).children[0].ID),e.get(t)}parseDeformers(){const e={},t={};if("Deformer"in R.Objects){const i=R.Objects.Deformer;for(const n in i){const r=i[n],s=Z.get(parseInt(n));if(r.attrType==="Skin"){const o=this.parseSkeleton(s,i);o.ID=n,s.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),o.geometryID=s.parents[0].ID,e[n]=o}else if(r.attrType==="BlendShape"){const o={id:n};o.rawTargets=this.parseMorphTargets(s,i),o.id=n,s.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),t[n]=o}}}return{skeletons:e,morphTargets:t}}parseSkeleton(e,t){const i=[];return e.children.forEach(function(n){const r=t[n.ID];if(r.attrType!=="Cluster")return;const s={ID:n.ID,indices:[],weights:[],transformLink:new U().fromArray(r.TransformLink.a)};"Indexes"in r&&(s.indices=r.Indexes.a,s.weights=r.Weights.a),i.push(s)}),{rawBones:i,bones:[]}}parseMorphTargets(e,t){const i=[];for(let n=0;n<e.children.length;n++){const r=e.children[n],s=t[r.ID],o={name:s.attrName,initialWeight:s.DeformPercent,id:s.id,fullWeights:s.FullWeights.a};if(s.attrType!=="BlendShapeChannel")return;o.geoID=Z.get(parseInt(r.ID)).children.filter(function(l){return l.relationship===void 0})[0].ID,i.push(o)}return i}parseScene(e,t,i){de=new ti;const n=this.parseModels(e.skeletons,t,i),r=R.Objects.Model,s=this;n.forEach(function(l){const c=r[l.ID];s.setLookAtProperties(l,c),Z.get(l.ID).parents.forEach(function(h){const m=n.get(h.ID);m!==void 0&&m.add(l)}),l.parent===null&&de.add(l)}),this.bindSkeleton(e.skeletons,t,n),this.createAmbientLight(),de.traverse(function(l){if(l.userData.transformData){l.parent&&(l.userData.transformData.parentMatrix=l.parent.matrix,l.userData.transformData.parentMatrixWorld=l.parent.matrixWorld);const c=Lo(l.userData.transformData);l.applyMatrix4(c),l.updateWorldMatrix()}});const o=new du().parse();de.children.length===1&&de.children[0].isGroup&&(de.children[0].animations=o,de=de.children[0]),de.animations=o}parseModels(e,t,i){const n=new Map,r=R.Objects.Model;for(const s in r){const o=parseInt(s),l=r[s],c=Z.get(o);let u=this.buildSkeleton(c,e,o,l.attrName);if(!u){switch(l.attrType){case"Camera":u=this.createCamera(c);break;case"Light":u=this.createLight(c);break;case"Mesh":u=this.createMesh(c,t,i);break;case"NurbsCurve":u=this.createCurve(c,t);break;case"LimbNode":case"Root":u=new wr;break;case"Null":default:u=new ti;break}u.name=l.attrName?Ei.sanitizeNodeName(l.attrName):"",u.ID=o}this.getTransformData(u,l),n.set(o,u)}return n}buildSkeleton(e,t,i,n){let r=null;return e.parents.forEach(function(s){for(const o in t){const l=t[o];l.rawBones.forEach(function(c,u){if(c.ID===s.ID){const h=r;r=new wr,r.matrixWorld.copy(c.transformLink),r.name=n?Ei.sanitizeNodeName(n):"",r.ID=i,l.bones[u]=r,h!==null&&r.add(h)}})}}),r}createCamera(e){let t,i;if(e.children.forEach(function(n){const r=R.Objects.NodeAttribute[n.ID];r!==void 0&&(i=r)}),i===void 0)t=new wi;else{let n=0;i.CameraProjectionType!==void 0&&i.CameraProjectionType.value===1&&(n=1);let r=1;i.NearPlane!==void 0&&(r=i.NearPlane.value/1e3);let s=1e3;i.FarPlane!==void 0&&(s=i.FarPlane.value/1e3);let o=window.innerWidth,l=window.innerHeight;i.AspectWidth!==void 0&&i.AspectHeight!==void 0&&(o=i.AspectWidth.value,l=i.AspectHeight.value);const c=o/l;let u=45;i.FieldOfView!==void 0&&(u=i.FieldOfView.value);const h=i.FocalLength?i.FocalLength.value:null;switch(n){case 0:t=new ss(u,c,r,s),h!==null&&t.setFocalLength(h);break;case 1:t=new ns(-o/2,o/2,l/2,-l/2,r,s);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+n+"."),t=new wi;break}}return t}createLight(e){let t,i;if(e.children.forEach(function(n){const r=R.Objects.NodeAttribute[n.ID];r!==void 0&&(i=r)}),i===void 0)t=new wi;else{let n;i.LightType===void 0?n=0:n=i.LightType.value;let r=16777215;i.Color!==void 0&&(r=new ie().fromArray(i.Color.value).convertSRGBToLinear());let s=i.Intensity===void 0?1:i.Intensity.value/100;i.CastLightOnObject!==void 0&&i.CastLightOnObject.value===0&&(s=0);let o=0;i.FarAttenuationEnd!==void 0&&(i.EnableFarAttenuation!==void 0&&i.EnableFarAttenuation.value===0?o=0:o=i.FarAttenuationEnd.value);const l=1;switch(n){case 0:t=new Pi(r,s,o,l);break;case 1:t=new es(r,s);break;case 2:let c=Math.PI/3;i.InnerAngle!==void 0&&(c=Ue.degToRad(i.InnerAngle.value));let u=0;i.OuterAngle!==void 0&&(u=Ue.degToRad(i.OuterAngle.value),u=Math.max(u,1)),t=new Ci(r,s,o,c,u,l);break;default:console.warn("THREE.FBXLoader: Unknown light type "+i.LightType.value+", defaulting to a PointLight."),t=new Pi(r,s);break}i.CastShadows!==void 0&&i.CastShadows.value===1&&(t.castShadow=!0)}return t}createMesh(e,t,i){let n,r=null,s=null;const o=[];return e.children.forEach(function(l){t.has(l.ID)&&(r=t.get(l.ID)),i.has(l.ID)&&o.push(i.get(l.ID))}),o.length>1?s=o:o.length>0?s=o[0]:(s=new $t({color:13421772}),o.push(s)),"color"in r.attributes&&o.forEach(function(l){l.vertexColors=!0}),r.FBX_Deformer?(n=new xa(r,s),n.normalizeSkinWeights()):n=new qe(r,s),n}createCurve(e,t){const i=e.children.reduce(function(r,s){return t.has(s.ID)&&(r=t.get(s.ID)),r},null),n=new os({color:3342591,linewidth:1});return new as(i,n)}getTransformData(e,t){const i={};"InheritType"in t&&(i.inheritType=parseInt(t.InheritType.value)),"RotationOrder"in t?i.eulerOrder=Ro(t.RotationOrder.value):i.eulerOrder="ZYX","Lcl_Translation"in t&&(i.translation=t.Lcl_Translation.value),"PreRotation"in t&&(i.preRotation=t.PreRotation.value),"Lcl_Rotation"in t&&(i.rotation=t.Lcl_Rotation.value),"PostRotation"in t&&(i.postRotation=t.PostRotation.value),"Lcl_Scaling"in t&&(i.scale=t.Lcl_Scaling.value),"ScalingOffset"in t&&(i.scalingOffset=t.ScalingOffset.value),"ScalingPivot"in t&&(i.scalingPivot=t.ScalingPivot.value),"RotationOffset"in t&&(i.rotationOffset=t.RotationOffset.value),"RotationPivot"in t&&(i.rotationPivot=t.RotationPivot.value),e.userData.transformData=i}setLookAtProperties(e,t){"LookAtProperty"in t&&Z.get(e.ID).children.forEach(function(n){if(n.relationship==="LookAtProperty"){const r=R.Objects.Model[n.ID];if("Lcl_Translation"in r){const s=r.Lcl_Translation.value;e.target!==void 0?(e.target.position.fromArray(s),de.add(e.target)):e.lookAt(new Y().fromArray(s))}}})}bindSkeleton(e,t,i){const n=this.parsePoseNodes();for(const r in e){const s=e[r];Z.get(parseInt(s.ID)).parents.forEach(function(l){if(t.has(l.ID)){const c=l.ID;Z.get(c).parents.forEach(function(h){i.has(h.ID)&&i.get(h.ID).bind(new ba(s.bones),n[h.ID])})}})}}parsePoseNodes(){const e={};if("Pose"in R.Objects){const t=R.Objects.Pose;for(const i in t)if(t[i].attrType==="BindPose"&&t[i].NbPoseNodes>0){const n=t[i].PoseNode;Array.isArray(n)?n.forEach(function(r){e[r.Node]=new U().fromArray(r.Matrix.a)}):e[n.Node]=new U().fromArray(n.Matrix.a)}}return e}createAmbientLight(){if("GlobalSettings"in R&&"AmbientColor"in R.GlobalSettings){const e=R.GlobalSettings.AmbientColor.value,t=e[0],i=e[1],n=e[2];if(t!==0||i!==0||n!==0){const r=new ie(t,i,n).convertSRGBToLinear();de.add(new ts(r,1))}}}}class fu{constructor(){this.negativeMaterialIndices=!1}parse(e){const t=new Map;if("Geometry"in R.Objects){const i=R.Objects.Geometry;for(const n in i){const r=Z.get(parseInt(n)),s=this.parseGeometry(r,i[n],e);t.set(parseInt(n),s)}}return this.negativeMaterialIndices===!0&&console.warn("THREE.FBXLoader: The FBX file contains invalid (negative) material indices. The asset might not render as expected."),t}parseGeometry(e,t,i){switch(t.attrType){case"Mesh":return this.parseMeshGeometry(e,t,i);case"NurbsCurve":return this.parseNurbsGeometry(t)}}parseMeshGeometry(e,t,i){const n=i.skeletons,r=[],s=e.parents.map(function(h){return R.Objects.Model[h.ID]});if(s.length===0)return;const o=e.children.reduce(function(h,m){return n[m.ID]!==void 0&&(h=n[m.ID]),h},null);e.children.forEach(function(h){i.morphTargets[h.ID]!==void 0&&r.push(i.morphTargets[h.ID])});const l=s[0],c={};"RotationOrder"in l&&(c.eulerOrder=Ro(l.RotationOrder.value)),"InheritType"in l&&(c.inheritType=parseInt(l.InheritType.value)),"GeometricTranslation"in l&&(c.translation=l.GeometricTranslation.value),"GeometricRotation"in l&&(c.rotation=l.GeometricRotation.value),"GeometricScaling"in l&&(c.scale=l.GeometricScaling.value);const u=Lo(c);return this.genGeometry(t,o,r,u)}genGeometry(e,t,i,n){const r=new At;e.attrName&&(r.name=e.attrName);const s=this.parseGeoNode(e,t),o=this.genBuffers(s),l=new tt(o.vertex,3);if(l.applyMatrix4(n),r.setAttribute("position",l),o.colors.length>0&&r.setAttribute("color",new tt(o.colors,3)),t&&(r.setAttribute("skinIndex",new Ta(o.weightsIndices,4)),r.setAttribute("skinWeight",new tt(o.vertexWeights,4)),r.FBX_Deformer=t),o.normal.length>0){const c=new Sa().getNormalMatrix(n),u=new tt(o.normal,3);u.applyNormalMatrix(c),r.setAttribute("normal",u)}if(o.uvs.forEach(function(c,u){const h=u===0?"uv":`uv${u}`;r.setAttribute(h,new tt(o.uvs[u],2))}),s.material&&s.material.mappingType!=="AllSame"){let c=o.materialIndex[0],u=0;if(o.materialIndex.forEach(function(h,m){h!==c&&(r.addGroup(u,m-u,c),c=h,u=m)}),r.groups.length>0){const h=r.groups[r.groups.length-1],m=h.start+h.count;m!==o.materialIndex.length&&r.addGroup(m,o.materialIndex.length-m,c)}r.groups.length===0&&r.addGroup(0,o.materialIndex.length,o.materialIndex[0])}return this.addMorphTargets(r,e,i,n),r}parseGeoNode(e,t){const i={};if(i.vertexPositions=e.Vertices!==void 0?e.Vertices.a:[],i.vertexIndices=e.PolygonVertexIndex!==void 0?e.PolygonVertexIndex.a:[],e.LayerElementColor&&(i.color=this.parseVertexColors(e.LayerElementColor[0])),e.LayerElementMaterial&&(i.material=this.parseMaterialIndices(e.LayerElementMaterial[0])),e.LayerElementNormal&&(i.normal=this.parseNormals(e.LayerElementNormal[0])),e.LayerElementUV){i.uv=[];let n=0;for(;e.LayerElementUV[n];)e.LayerElementUV[n].UV&&i.uv.push(this.parseUVs(e.LayerElementUV[n])),n++}return i.weightTable={},t!==null&&(i.skeleton=t,t.rawBones.forEach(function(n,r){n.indices.forEach(function(s,o){i.weightTable[s]===void 0&&(i.weightTable[s]=[]),i.weightTable[s].push({id:r,weight:n.weights[o]})})})),i}genBuffers(e){const t={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]};let i=0,n=0,r=!1,s=[],o=[],l=[],c=[],u=[],h=[];const m=this;return e.vertexIndices.forEach(function(p,_){let d,f=!1;p<0&&(p=p^-1,f=!0);let g=[],v=[];if(s.push(p*3,p*3+1,p*3+2),e.color){const y=vi(_,i,p,e.color);l.push(y[0],y[1],y[2])}if(e.skeleton){if(e.weightTable[p]!==void 0&&e.weightTable[p].forEach(function(y){v.push(y.weight),g.push(y.id)}),v.length>4){r||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),r=!0);const y=[0,0,0,0],b=[0,0,0,0];v.forEach(function(w,T){let S=w,P=g[T];b.forEach(function(C,k,A){if(S>C){A[k]=S,S=C;const L=y[k];y[k]=P,P=L}})}),g=y,v=b}for(;v.length<4;)v.push(0),g.push(0);for(let y=0;y<4;++y)u.push(v[y]),h.push(g[y])}if(e.normal){const y=vi(_,i,p,e.normal);o.push(y[0],y[1],y[2])}e.material&&e.material.mappingType!=="AllSame"&&(d=vi(_,i,p,e.material)[0],d<0&&(m.negativeMaterialIndices=!0,d=0)),e.uv&&e.uv.forEach(function(y,b){const w=vi(_,i,p,y);c[b]===void 0&&(c[b]=[]),c[b].push(w[0]),c[b].push(w[1])}),n++,f&&(n>4&&console.warn("THREE.FBXLoader: Polygons with more than four sides are not supported. Make sure to triangulate the geometry during export."),m.genFace(t,e,s,d,o,l,c,u,h,n),i++,n=0,s=[],o=[],l=[],c=[],u=[],h=[])}),t}genFace(e,t,i,n,r,s,o,l,c,u){for(let h=2;h<u;h++)e.vertex.push(t.vertexPositions[i[0]]),e.vertex.push(t.vertexPositions[i[1]]),e.vertex.push(t.vertexPositions[i[2]]),e.vertex.push(t.vertexPositions[i[(h-1)*3]]),e.vertex.push(t.vertexPositions[i[(h-1)*3+1]]),e.vertex.push(t.vertexPositions[i[(h-1)*3+2]]),e.vertex.push(t.vertexPositions[i[h*3]]),e.vertex.push(t.vertexPositions[i[h*3+1]]),e.vertex.push(t.vertexPositions[i[h*3+2]]),t.skeleton&&(e.vertexWeights.push(l[0]),e.vertexWeights.push(l[1]),e.vertexWeights.push(l[2]),e.vertexWeights.push(l[3]),e.vertexWeights.push(l[(h-1)*4]),e.vertexWeights.push(l[(h-1)*4+1]),e.vertexWeights.push(l[(h-1)*4+2]),e.vertexWeights.push(l[(h-1)*4+3]),e.vertexWeights.push(l[h*4]),e.vertexWeights.push(l[h*4+1]),e.vertexWeights.push(l[h*4+2]),e.vertexWeights.push(l[h*4+3]),e.weightsIndices.push(c[0]),e.weightsIndices.push(c[1]),e.weightsIndices.push(c[2]),e.weightsIndices.push(c[3]),e.weightsIndices.push(c[(h-1)*4]),e.weightsIndices.push(c[(h-1)*4+1]),e.weightsIndices.push(c[(h-1)*4+2]),e.weightsIndices.push(c[(h-1)*4+3]),e.weightsIndices.push(c[h*4]),e.weightsIndices.push(c[h*4+1]),e.weightsIndices.push(c[h*4+2]),e.weightsIndices.push(c[h*4+3])),t.color&&(e.colors.push(s[0]),e.colors.push(s[1]),e.colors.push(s[2]),e.colors.push(s[(h-1)*3]),e.colors.push(s[(h-1)*3+1]),e.colors.push(s[(h-1)*3+2]),e.colors.push(s[h*3]),e.colors.push(s[h*3+1]),e.colors.push(s[h*3+2])),t.material&&t.material.mappingType!=="AllSame"&&(e.materialIndex.push(n),e.materialIndex.push(n),e.materialIndex.push(n)),t.normal&&(e.normal.push(r[0]),e.normal.push(r[1]),e.normal.push(r[2]),e.normal.push(r[(h-1)*3]),e.normal.push(r[(h-1)*3+1]),e.normal.push(r[(h-1)*3+2]),e.normal.push(r[h*3]),e.normal.push(r[h*3+1]),e.normal.push(r[h*3+2])),t.uv&&t.uv.forEach(function(m,p){e.uvs[p]===void 0&&(e.uvs[p]=[]),e.uvs[p].push(o[p][0]),e.uvs[p].push(o[p][1]),e.uvs[p].push(o[p][(h-1)*2]),e.uvs[p].push(o[p][(h-1)*2+1]),e.uvs[p].push(o[p][h*2]),e.uvs[p].push(o[p][h*2+1])})}addMorphTargets(e,t,i,n){if(i.length===0)return;e.morphTargetsRelative=!0,e.morphAttributes.position=[];const r=this;i.forEach(function(s){s.rawTargets.forEach(function(o){const l=R.Objects.Geometry[o.geoID];l!==void 0&&r.genMorphGeometry(e,t,l,n,o.name)})})}genMorphGeometry(e,t,i,n,r){const s=t.PolygonVertexIndex!==void 0?t.PolygonVertexIndex.a:[],o=i.Vertices!==void 0?i.Vertices.a:[],l=i.Indexes!==void 0?i.Indexes.a:[],c=e.attributes.position.count*3,u=new Float32Array(c);for(let _=0;_<l.length;_++){const d=l[_]*3;u[d]=o[_*3],u[d+1]=o[_*3+1],u[d+2]=o[_*3+2]}const h={vertexIndices:s,vertexPositions:u},m=this.genBuffers(h),p=new tt(m.vertex,3);p.name=r||i.attrName,p.applyMatrix4(n),e.morphAttributes.position.push(p)}parseNormals(e){const t=e.MappingInformationType,i=e.ReferenceInformationType,n=e.Normals.a;let r=[];return i==="IndexToDirect"&&("NormalIndex"in e?r=e.NormalIndex.a:"NormalsIndex"in e&&(r=e.NormalsIndex.a)),{dataSize:3,buffer:n,indices:r,mappingType:t,referenceType:i}}parseUVs(e){const t=e.MappingInformationType,i=e.ReferenceInformationType,n=e.UV.a;let r=[];return i==="IndexToDirect"&&(r=e.UVIndex.a),{dataSize:2,buffer:n,indices:r,mappingType:t,referenceType:i}}parseVertexColors(e){const t=e.MappingInformationType,i=e.ReferenceInformationType,n=e.Colors.a;let r=[];i==="IndexToDirect"&&(r=e.ColorIndex.a);for(let s=0,o=new ie;s<n.length;s+=4)o.fromArray(n,s).convertSRGBToLinear().toArray(n,s);return{dataSize:4,buffer:n,indices:r,mappingType:t,referenceType:i}}parseMaterialIndices(e){const t=e.MappingInformationType,i=e.ReferenceInformationType;if(t==="NoMappingInformation")return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:i};const n=e.Materials.a,r=[];for(let s=0;s<n.length;++s)r.push(s);return{dataSize:1,buffer:n,indices:r,mappingType:t,referenceType:i}}parseNurbsGeometry(e){const t=parseInt(e.Order);if(isNaN(t))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",e.Order,e.id),new At;const i=t-1,n=e.KnotVector.a,r=[],s=e.Points.a;for(let h=0,m=s.length;h<m;h+=4)r.push(new ui().fromArray(s,h));let o,l;if(e.Form==="Closed")r.push(r[0]);else if(e.Form==="Periodic"){o=i,l=n.length-1-o;for(let h=0;h<i;++h)r.push(r[h])}const u=new cu(i,n,r,o,l).getPoints(r.length*12);return new At().setFromPoints(u)}}class du{parse(){const e=[],t=this.parseClips();if(t!==void 0)for(const i in t){const n=t[i],r=this.addClip(n);e.push(r)}return e}parseClips(){if(R.Objects.AnimationCurve===void 0)return;const e=this.parseAnimationCurveNodes();this.parseAnimationCurves(e);const t=this.parseAnimationLayers(e);return this.parseAnimStacks(t)}parseAnimationCurveNodes(){const e=R.Objects.AnimationCurveNode,t=new Map;for(const i in e){const n=e[i];if(n.attrName.match(/S|R|T|DeformPercent/)!==null){const r={id:n.id,attr:n.attrName,curves:{}};t.set(r.id,r)}}return t}parseAnimationCurves(e){const t=R.Objects.AnimationCurve;for(const i in t){const n={id:t[i].id,times:t[i].KeyTime.a.map(vu),values:t[i].KeyValueFloat.a},r=Z.get(n.id);if(r!==void 0){const s=r.parents[0].ID,o=r.parents[0].relationship;o.match(/X/)?e.get(s).curves.x=n:o.match(/Y/)?e.get(s).curves.y=n:o.match(/Z/)?e.get(s).curves.z=n:o.match(/DeformPercent/)&&e.has(s)&&(e.get(s).curves.morph=n)}}}parseAnimationLayers(e){const t=R.Objects.AnimationLayer,i=new Map;for(const n in t){const r=[],s=Z.get(parseInt(n));s!==void 0&&(s.children.forEach(function(l,c){if(e.has(l.ID)){const u=e.get(l.ID);if(u.curves.x!==void 0||u.curves.y!==void 0||u.curves.z!==void 0){if(r[c]===void 0){const h=Z.get(l.ID).parents.filter(function(m){return m.relationship!==void 0})[0].ID;if(h!==void 0){const m=R.Objects.Model[h.toString()];if(m===void 0){console.warn("THREE.FBXLoader: Encountered a unused curve.",l);return}const p={modelName:m.attrName?Ei.sanitizeNodeName(m.attrName):"",ID:m.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};de.traverse(function(_){_.ID===m.id&&(p.transform=_.matrix,_.userData.transformData&&(p.eulerOrder=_.userData.transformData.eulerOrder))}),p.transform||(p.transform=new U),"PreRotation"in m&&(p.preRotation=m.PreRotation.value),"PostRotation"in m&&(p.postRotation=m.PostRotation.value),r[c]=p}}r[c]&&(r[c][u.attr]=u)}else if(u.curves.morph!==void 0){if(r[c]===void 0){const h=Z.get(l.ID).parents.filter(function(g){return g.relationship!==void 0})[0].ID,m=Z.get(h).parents[0].ID,p=Z.get(m).parents[0].ID,_=Z.get(p).parents[0].ID,d=R.Objects.Model[_],f={modelName:d.attrName?Ei.sanitizeNodeName(d.attrName):"",morphName:R.Objects.Deformer[h].attrName};r[c]=f}r[c][u.attr]=u}}}),i.set(parseInt(n),r))}return i}parseAnimStacks(e){const t=R.Objects.AnimationStack,i={};for(const n in t){const r=Z.get(parseInt(n)).children;r.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");const s=e.get(r[0].ID);i[n]={name:t[n].attrName,layer:s}}return i}addClip(e){let t=[];const i=this;return e.layer.forEach(function(n){t=t.concat(i.generateTracks(n))}),new Pa(e.name,-1,t)}generateTracks(e){const t=[];let i=new Y,n=new kt,r=new Y;if(e.transform&&e.transform.decompose(i,n,r),i=i.toArray(),n=new $e().setFromQuaternion(n,e.eulerOrder).toArray(),r=r.toArray(),e.T!==void 0&&Object.keys(e.T.curves).length>0){const s=this.generateVectorTrack(e.modelName,e.T.curves,i,"position");s!==void 0&&t.push(s)}if(e.R!==void 0&&Object.keys(e.R.curves).length>0){const s=this.generateRotationTrack(e.modelName,e.R.curves,n,e.preRotation,e.postRotation,e.eulerOrder);s!==void 0&&t.push(s)}if(e.S!==void 0&&Object.keys(e.S.curves).length>0){const s=this.generateVectorTrack(e.modelName,e.S.curves,r,"scale");s!==void 0&&t.push(s)}if(e.DeformPercent!==void 0){const s=this.generateMorphTrack(e);s!==void 0&&t.push(s)}return t}generateVectorTrack(e,t,i,n){const r=this.getTimesForAllAxes(t),s=this.getKeyframeTrackValues(r,t,i);return new Ca(e+"."+n,r,s)}generateRotationTrack(e,t,i,n,r,s){t.x!==void 0&&(this.interpolateRotations(t.x),t.x.values=t.x.values.map(Ue.degToRad)),t.y!==void 0&&(this.interpolateRotations(t.y),t.y.values=t.y.values.map(Ue.degToRad)),t.z!==void 0&&(this.interpolateRotations(t.z),t.z.values=t.z.values.map(Ue.degToRad));const o=this.getTimesForAllAxes(t),l=this.getKeyframeTrackValues(o,t,i);n!==void 0&&(n=n.map(Ue.degToRad),n.push(s),n=new $e().fromArray(n),n=new kt().setFromEuler(n)),r!==void 0&&(r=r.map(Ue.degToRad),r.push(s),r=new $e().fromArray(r),r=new kt().setFromEuler(r).invert());const c=new kt,u=new $e,h=[];for(let m=0;m<l.length;m+=3)u.set(l[m],l[m+1],l[m+2],s),c.setFromEuler(u),n!==void 0&&c.premultiply(n),r!==void 0&&c.multiply(r),c.toArray(h,m/3*4);return new Ma(e+".quaternion",o,h)}generateMorphTrack(e){const t=e.DeformPercent.curves.morph,i=t.values.map(function(r){return r/100}),n=de.getObjectByName(e.modelName).morphTargetDictionary[e.morphName];return new Ea(e.modelName+".morphTargetInfluences["+n+"]",t.times,i)}getTimesForAllAxes(e){let t=[];if(e.x!==void 0&&(t=t.concat(e.x.times)),e.y!==void 0&&(t=t.concat(e.y.times)),e.z!==void 0&&(t=t.concat(e.z.times)),t=t.sort(function(i,n){return i-n}),t.length>1){let i=1,n=t[0];for(let r=1;r<t.length;r++){const s=t[r];s!==n&&(t[i]=s,n=s,i++)}t=t.slice(0,i)}return t}getKeyframeTrackValues(e,t,i){const n=i,r=[];let s=-1,o=-1,l=-1;return e.forEach(function(c){if(t.x&&(s=t.x.times.indexOf(c)),t.y&&(o=t.y.times.indexOf(c)),t.z&&(l=t.z.times.indexOf(c)),s!==-1){const u=t.x.values[s];r.push(u),n[0]=u}else r.push(n[0]);if(o!==-1){const u=t.y.values[o];r.push(u),n[1]=u}else r.push(n[1]);if(l!==-1){const u=t.z.values[l];r.push(u),n[2]=u}else r.push(n[2])}),r}interpolateRotations(e){for(let t=1;t<e.values.length;t++){const i=e.values[t-1],n=e.values[t]-i,r=Math.abs(n);if(r>=180){const s=r/180,o=n/s;let l=i+o;const c=e.times[t-1],h=(e.times[t]-c)/s;let m=c+h;const p=[],_=[];for(;m<e.times[t];)p.push(m),m+=h,_.push(l),l+=o;e.times=qr(e.times,t,p),e.values=qr(e.values,t,_)}}}}class pu{getPrevNode(){return this.nodeStack[this.currentIndent-2]}getCurrentNode(){return this.nodeStack[this.currentIndent-1]}getCurrentProp(){return this.currentProp}pushStack(e){this.nodeStack.push(e),this.currentIndent+=1}popStack(){this.nodeStack.pop(),this.currentIndent-=1}setCurrentProp(e,t){this.currentProp=e,this.currentPropName=t}parse(e){this.currentIndent=0,this.allNodes=new Ao,this.nodeStack=[],this.currentProp=[],this.currentPropName="";const t=this,i=e.split(/[\r\n]+/);return i.forEach(function(n,r){const s=n.match(/^[\s\t]*;/),o=n.match(/^[\s\t]*$/);if(s||o)return;const l=n.match("^\\t{"+t.currentIndent+"}(\\w+):(.*){",""),c=n.match("^\\t{"+t.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),u=n.match("^\\t{"+(t.currentIndent-1)+"}}");l?t.parseNodeBegin(n,l):c?t.parseNodeProperty(n,c,i[++r]):u?t.popStack():n.match(/^[^\s\t}]/)&&t.parseNodePropertyContinued(n)}),this.allNodes}parseNodeBegin(e,t){const i=t[1].trim().replace(/^"/,"").replace(/"$/,""),n=t[2].split(",").map(function(l){return l.trim().replace(/^"/,"").replace(/"$/,"")}),r={name:i},s=this.parseNodeAttr(n),o=this.getCurrentNode();this.currentIndent===0?this.allNodes.add(i,r):i in o?(i==="PoseNode"?o.PoseNode.push(r):o[i].id!==void 0&&(o[i]={},o[i][o[i].id]=o[i]),s.id!==""&&(o[i][s.id]=r)):typeof s.id=="number"?(o[i]={},o[i][s.id]=r):i!=="Properties70"&&(i==="PoseNode"?o[i]=[r]:o[i]=r),typeof s.id=="number"&&(r.id=s.id),s.name!==""&&(r.attrName=s.name),s.type!==""&&(r.attrType=s.type),this.pushStack(r)}parseNodeAttr(e){let t=e[0];e[0]!==""&&(t=parseInt(e[0]),isNaN(t)&&(t=e[0]));let i="",n="";return e.length>1&&(i=e[1].replace(/^(\w+)::/,""),n=e[2]),{id:t,name:i,type:n}}parseNodeProperty(e,t,i){let n=t[1].replace(/^"/,"").replace(/"$/,"").trim(),r=t[2].replace(/^"/,"").replace(/"$/,"").trim();n==="Content"&&r===","&&(r=i.replace(/"/g,"").replace(/,$/,"").trim());const s=this.getCurrentNode();if(s.name==="Properties70"){this.parseNodeSpecialProperty(e,n,r);return}if(n==="C"){const l=r.split(",").slice(1),c=parseInt(l[0]),u=parseInt(l[1]);let h=r.split(",").slice(3);h=h.map(function(m){return m.trim().replace(/^"/,"")}),n="connections",r=[c,u],wu(r,h),s[n]===void 0&&(s[n]=[])}n==="Node"&&(s.id=r),n in s&&Array.isArray(s[n])?s[n].push(r):n!=="a"?s[n]=r:s.a=r,this.setCurrentProp(s,n),n==="a"&&r.slice(-1)!==","&&(s.a=dn(r))}parseNodePropertyContinued(e){const t=this.getCurrentNode();t.a+=e,e.slice(-1)!==","&&(t.a=dn(t.a))}parseNodeSpecialProperty(e,t,i){const n=i.split('",').map(function(u){return u.trim().replace(/^\"/,"").replace(/\s/,"_")}),r=n[0],s=n[1],o=n[2],l=n[3];let c=n[4];switch(s){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":c=parseFloat(c);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":c=dn(c);break}this.getPrevNode()[r]={type:s,type2:o,flag:l,value:c},this.setCurrentProp(this.getPrevNode(),r)}}class mu{parse(e){const t=new Yr(e);t.skip(23);const i=t.getUint32();if(i<6400)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+i);const n=new Ao;for(;!this.endOfContent(t);){const r=this.parseNode(t,i);r!==null&&n.add(r.name,r)}return n}endOfContent(e){return e.size()%16===0?(e.getOffset()+160+16&-16)>=e.size():e.getOffset()+160+16>=e.size()}parseNode(e,t){const i={},n=t>=7500?e.getUint64():e.getUint32(),r=t>=7500?e.getUint64():e.getUint32();t>=7500?e.getUint64():e.getUint32();const s=e.getUint8(),o=e.getString(s);if(n===0)return null;const l=[];for(let m=0;m<r;m++)l.push(this.parseProperty(e));const c=l.length>0?l[0]:"",u=l.length>1?l[1]:"",h=l.length>2?l[2]:"";for(i.singleProperty=r===1&&e.getOffset()===n;n>e.getOffset();){const m=this.parseNode(e,t);m!==null&&this.parseSubNode(o,i,m)}return i.propertyList=l,typeof c=="number"&&(i.id=c),u!==""&&(i.attrName=u),h!==""&&(i.attrType=h),o!==""&&(i.name=o),i}parseSubNode(e,t,i){if(i.singleProperty===!0){const n=i.propertyList[0];Array.isArray(n)?(t[i.name]=i,i.a=n):t[i.name]=n}else if(e==="Connections"&&i.name==="C"){const n=[];i.propertyList.forEach(function(r,s){s!==0&&n.push(r)}),t.connections===void 0&&(t.connections=[]),t.connections.push(n)}else if(i.name==="Properties70")Object.keys(i).forEach(function(r){t[r]=i[r]});else if(e==="Properties70"&&i.name==="P"){let n=i.propertyList[0],r=i.propertyList[1];const s=i.propertyList[2],o=i.propertyList[3];let l;n.indexOf("Lcl ")===0&&(n=n.replace("Lcl ","Lcl_")),r.indexOf("Lcl ")===0&&(r=r.replace("Lcl ","Lcl_")),r==="Color"||r==="ColorRGB"||r==="Vector"||r==="Vector3D"||r.indexOf("Lcl_")===0?l=[i.propertyList[4],i.propertyList[5],i.propertyList[6]]:l=i.propertyList[4],t[n]={type:r,type2:s,flag:o,value:l}}else t[i.name]===void 0?typeof i.id=="number"?(t[i.name]={},t[i.name][i.id]=i):t[i.name]=i:i.name==="PoseNode"?(Array.isArray(t[i.name])||(t[i.name]=[t[i.name]]),t[i.name].push(i)):t[i.name][i.id]===void 0&&(t[i.name][i.id]=i)}parseProperty(e){const t=e.getString(1);let i;switch(t){case"C":return e.getBoolean();case"D":return e.getFloat64();case"F":return e.getFloat32();case"I":return e.getInt32();case"L":return e.getInt64();case"R":return i=e.getUint32(),e.getArrayBuffer(i);case"S":return i=e.getUint32(),e.getString(i);case"Y":return e.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":const n=e.getUint32(),r=e.getUint32(),s=e.getUint32();if(r===0)switch(t){case"b":case"c":return e.getBooleanArray(n);case"d":return e.getFloat64Array(n);case"f":return e.getFloat32Array(n);case"i":return e.getInt32Array(n);case"l":return e.getInt64Array(n)}const o=Jc(new Uint8Array(e.getArrayBuffer(s))),l=new Yr(o.buffer);switch(t){case"b":case"c":return l.getBooleanArray(n);case"d":return l.getFloat64Array(n);case"f":return l.getFloat32Array(n);case"i":return l.getInt32Array(n);case"l":return l.getInt64Array(n)}break;default:throw new Error("THREE.FBXLoader: Unknown property type "+t)}}}class Yr{constructor(e,t){this.dv=new DataView(e),this.offset=0,this.littleEndian=t!==void 0?t:!0,this._textDecoder=new TextDecoder}getOffset(){return this.offset}size(){return this.dv.buffer.byteLength}skip(e){this.offset+=e}getBoolean(){return(this.getUint8()&1)===1}getBooleanArray(e){const t=[];for(let i=0;i<e;i++)t.push(this.getBoolean());return t}getUint8(){const e=this.dv.getUint8(this.offset);return this.offset+=1,e}getInt16(){const e=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}getInt32(){const e=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}getInt32Array(e){const t=[];for(let i=0;i<e;i++)t.push(this.getInt32());return t}getUint32(){const e=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}getInt64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),t&2147483648?(t=~t&4294967295,e=~e&4294967295,e===4294967295&&(t=t+1&4294967295),e=e+1&4294967295,-(t*4294967296+e)):t*4294967296+e}getInt64Array(e){const t=[];for(let i=0;i<e;i++)t.push(this.getInt64());return t}getUint64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),t*4294967296+e}getFloat32(){const e=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}getFloat32Array(e){const t=[];for(let i=0;i<e;i++)t.push(this.getFloat32());return t}getFloat64(){const e=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}getFloat64Array(e){const t=[];for(let i=0;i<e;i++)t.push(this.getFloat64());return t}getArrayBuffer(e){const t=this.dv.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}getString(e){const t=this.offset;let i=new Uint8Array(this.dv.buffer,t,e);this.skip(e);const n=i.indexOf(0);return n>=0&&(i=new Uint8Array(this.dv.buffer,t,n)),this._textDecoder.decode(i)}}class Ao{add(e,t){this[e]=t}}function _u(a){const e="Kaydara FBX Binary  \0";return a.byteLength>=e.length&&e===Fo(a,0,e.length)}function gu(a){const e=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"];let t=0;function i(n){const r=a[n-1];return a=a.slice(t+n),t++,r}for(let n=0;n<e.length;++n)if(i(1)===e[n])return!1;return!0}function $r(a){const e=/FBXVersion: (\d+)/,t=a.match(e);if(t)return parseInt(t[1]);throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function vu(a){return a/46186158e3}const yu=[];function vi(a,e,t,i){let n;switch(i.mappingType){case"ByPolygonVertex":n=a;break;case"ByPolygon":n=e;break;case"ByVertice":n=t;break;case"AllSame":n=i.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+i.mappingType)}i.referenceType==="IndexToDirect"&&(n=i.indices[n]);const r=n*i.dataSize,s=r+i.dataSize;return xu(yu,i.buffer,r,s)}const fn=new $e,Mt=new Y;function Lo(a){const e=new U,t=new U,i=new U,n=new U,r=new U,s=new U,o=new U,l=new U,c=new U,u=new U,h=new U,m=new U,p=a.inheritType?a.inheritType:0;if(a.translation&&e.setPosition(Mt.fromArray(a.translation)),a.preRotation){const k=a.preRotation.map(Ue.degToRad);k.push(a.eulerOrder||$e.DEFAULT_ORDER),t.makeRotationFromEuler(fn.fromArray(k))}if(a.rotation){const k=a.rotation.map(Ue.degToRad);k.push(a.eulerOrder||$e.DEFAULT_ORDER),i.makeRotationFromEuler(fn.fromArray(k))}if(a.postRotation){const k=a.postRotation.map(Ue.degToRad);k.push(a.eulerOrder||$e.DEFAULT_ORDER),n.makeRotationFromEuler(fn.fromArray(k)),n.invert()}a.scale&&r.scale(Mt.fromArray(a.scale)),a.scalingOffset&&o.setPosition(Mt.fromArray(a.scalingOffset)),a.scalingPivot&&s.setPosition(Mt.fromArray(a.scalingPivot)),a.rotationOffset&&l.setPosition(Mt.fromArray(a.rotationOffset)),a.rotationPivot&&c.setPosition(Mt.fromArray(a.rotationPivot)),a.parentMatrixWorld&&(h.copy(a.parentMatrix),u.copy(a.parentMatrixWorld));const _=t.clone().multiply(i).multiply(n),d=new U;d.extractRotation(u);const f=new U;f.copyPosition(u);const g=f.clone().invert().multiply(u),v=d.clone().invert().multiply(g),y=r,b=new U;if(p===0)b.copy(d).multiply(_).multiply(v).multiply(y);else if(p===1)b.copy(d).multiply(v).multiply(_).multiply(y);else{const A=new U().scale(new Y().setFromMatrixScale(h)).clone().invert(),L=v.clone().multiply(A);b.copy(d).multiply(_).multiply(L).multiply(y)}const w=c.clone().invert(),T=s.clone().invert();let S=e.clone().multiply(l).multiply(c).multiply(t).multiply(i).multiply(n).multiply(w).multiply(o).multiply(s).multiply(r).multiply(T);const P=new U().copyPosition(S),C=u.clone().multiply(P);return m.copyPosition(C),S=m.clone().multiply(b),S.premultiply(u.invert()),S}function Ro(a){a=a||0;const e=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return a===6?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),e[0]):e[a]}function dn(a){return a.split(",").map(function(t){return parseFloat(t)})}function Fo(a,e,t){return e===void 0&&(e=0),t===void 0&&(t=a.byteLength),new TextDecoder().decode(new Uint8Array(a,e,t))}function wu(a,e){for(let t=0,i=a.length,n=e.length;t<n;t++,i++)a[i]=e[t]}function xu(a,e,t,i){for(let n=t,r=0;n<i;n++,r++)a[r]=e[n];return a}function qr(a,e,t){return a.slice(0,e).concat(t).concat(a.slice(e))}function bu(a){const e=new Map,t=new Map,i=a.clone();return Io(a,i,function(n,r){e.set(r,n),t.set(n,r)}),i.traverse(function(n){if(!n.isSkinnedMesh)return;const r=n,s=e.get(n),o=s.skeleton.bones;r.skeleton=s.skeleton.clone(),r.bindMatrix.copy(s.bindMatrix),r.skeleton.bones=o.map(function(l){return t.get(l)}),r.bind(r.skeleton,r.bindMatrix)}),i}function Io(a,e,t){t(a,e);for(let i=0;i<a.children.length;i++)Io(a.children[i],e.children[i],t)}var Yi,Bo;const or=class{constructor(e,t){we(this,Yi);this.viewer=t,this.model=e,this.object=e.scene||e,this.clock=new rs,this.animalIndex=-1}getBox(){return this.object.updateMatrixWorld(),new ka().setFromObject(this.object)}setCenter(){const t=this.getBox().getCenter(new Y);this.object.position.x+=this.object.position.x-t.x,this.object.position.y+=this.object.position.y-t.y,this.object.position.z+=this.object.position.z-t.z}setScale(e,t,i){this.object.scale.set(e,t||e,i||e)}getLenth(){return this.getBox().getSize(new Y)}setRotation(e,t,i){e&&(this.object.rotation.x=e),t&&(this.object.rotation.y=t),i&&(this.object.rotation.z=i)}setPosition([e,t,i],n=!1){if(n){const r=i-this.model.position.z,s=e-this.model.position.x,o=Math.atan2(r,s);this.object.rotation.y=this.rotationY-o}this.object.position.set(e,t,i)}cloneModel([e,t,i]=[0,0,0]){const n={...this.model},r=bu(this.object);return r.position.set(e,t,i),this.viewer.scene.add(r),n.scene=r,new or(n,this.viewer)}startAnimal(e=0){this.animalIndex=e,this.mixer||(this.mixer=new Oa(this.object)),!(this.model.animations.length<1)&&(this.mixer.clipAction(this.model.animations[e]).play(),this.animalObject={fun:xe(this,Yi,Bo),content:this},this.viewer.addAnimate(this.animalObject))}stopAnimal(){this.model.animations.length<1||!this.mixer||!this.mixer.clipAction||(this.mixer.clipAction(this.model.animations[this.animaIndex]).stop(),this.animaObject&&this.viewer.removeAnimate(this.animaObject))}openCastShadow(e=[]){this.model.scene.traverse(t=>{t.type==="Mesh"&&e.indexOf(t.name)===-1&&(t.frustumCulled=!1,t.material.side=Mi,t.castShadow=!0)})}openReceiveShadow(e=[]){this.model.scene.traverse(t=>{(e.length===0||e.indexOf(t.name)!==-1)&&(t.receiveShadow=!0)})}forEach(e){const t=[];this.model.scene.traverse(i=>{i.isMesh&&t.push(i)}),t.forEach(i=>{e==null||e(i)})}closeShadow(){this.model.scene.traverse(e=>{e.castShadow=!1,e.receiveShadow=!1})}setColorCool(e="rgb(255,255,255)",t=.05){this.isSaveMaterial||(this.materials=[]),this.model.scene.traverse(i=>{i.isMesh&&(this.isSaveMaterial&&this.materials.push(i.material),i.material=new Gt({side:Mi,transparent:!0,depthWrite:!0,depthTest:!1,color:new ie(e),opacity:t}))}),this.isSaveMaterial=!0}};let Fn=or;Yi=new WeakSet,Bo=function(e){e.mixer.update(e.clock.getDelta())};class Tu{constructor(e){this.viewer=e,this.scene=e.scene,this.loaderGLTF=new Ia,this.loaderFBX=new uu,this.dracoLoader=new za,this.dracoLoader.setDecoderPath("/js/draco/"),this.loaderGLTF.setDRACOLoader(this.dracoLoader)}loadModelToScene(e,t,i){this.loadModel(e,n=>{this.scene.add(n.object),t==null||t(n)},n=>{i==null||i(n)})}loadModel(e,t,i){let n=this.loaderGLTF;e.indexOf(".fbx")!==-1&&(n=this.loaderFBX),n.load(e,r=>{t==null||t(new Fn(r,this.viewer))},r=>{i==null||i((r.loaded/r.total).toFixed(2))},r=>{console.error("\u6A21\u578B\u6E32\u67D3\u62A5\u9519\uFF1A",r)})}}const Si=new We,Et={type:"",data:Si};class Su extends ti{constructor(e,t){super();const i=this,n=new jn,r=new U,s=e.domElement;function o(m){m.stopPropagation();const p=e.domElement.getBoundingClientRect();Si.x=(m.clientX-p.left)/p.width*2-1,Si.y=-(m.clientY-p.top)/p.height*2+1,n.setFromCamera(Si,t);const _=n.intersectObjects(i.children,!1);if(_.length>0){const d=_[0],f=d.object,g=d.uv;Et.type=m.type,Et.data.set(g.x,1-g.y),f.dispatchEvent(Et)}}s.addEventListener("pointerdown",o),s.addEventListener("pointerup",o),s.addEventListener("pointermove",o),s.addEventListener("mousedown",o),s.addEventListener("mouseup",o),s.addEventListener("mousemove",o),s.addEventListener("click",o);const l={move:"mousemove",select:"click",selectstart:"mousedown",selectend:"mouseup"};function c(m){const p=m.target;r.identity().extractRotation(p.matrixWorld),n.ray.origin.setFromMatrixPosition(p.matrixWorld),n.ray.direction.set(0,0,-1).applyMatrix4(r);const _=n.intersectObjects(i.children,!1);if(_.length>0){const d=_[0],f=d.object,g=d.uv;Et.type=l[m.type],Et.data.set(g.x,1-g.y),f.dispatchEvent(Et)}}const u=e.xr.getController(0);u.addEventListener("move",c),u.addEventListener("select",c),u.addEventListener("selectstart",c),u.addEventListener("selectend",c);const h=e.xr.getController(1);h.addEventListener("move",c),h.addEventListener("select",c),h.addEventListener("selectstart",c),h.addEventListener("selectend",c)}}class Pu{constructor(e){this.viewer=e,this.group=new Su(this.viewer.renderer,this.viewer.camera),this.viewer.scene.add(this.group)}addCss2dLabel(e={x:0,y:0,z:0},t=""){const i=document.createElement("div");return i.style.position="absolute",i.innerHTML=t,this.label=new xc(i),this.label.position.set(e.x,e.y,e.z),this.viewer.scene.add(this.label),this.label}}const Cu={key:0,id:"jindu-text-con"},Mu={id:"jindu-text"},Eu={class:"jindu-con"},ku={id:"container",ref:"container"},Ou={class:"operate-box"},pn=.001,Du={__name:"park",setup(a){let e=null,t=null,i=null,n=null,r=null,s={},o=null,l=null,c={},u=null,h=null,m={},p=null,_="",d="",f=!1,g,v=null;const y=["\u5B9E\u9A8C\u697C"],b={day:"\u767D\u5929\u6A21\u5F0F",night:"\u591C\u95F4\u6A21\u5F0F"};let w=0;const T=Array(6).fill(0).map((x,M)=>`zuo${M}`),S=it(!1),P=it("0%"),C=it(!0),k=it(!1),A=it(b.night);ia(()=>{L()});const L=()=>{e=new Uc("container"),v=new ho(e),e.camera.position.set(17,10,52),e.controls.maxPolarAngle=Math.PI/2.1,e.renderer.shadowMap.enabled=!0,e.renderer.shadowMap.type=Da;const x=new fo(e),M=x.addAmbientLight();M.setOption({color:16777215,intensity:1}),M.light.name="AmbientLight",x.addDirectionalLight([100,100,-10],{color:"rgb(253,253,253)",intensity:3,castShadow:!0});const E=new ti;E.name="SpotLights",E.add(V(10,32,-30)),E.add(V(-2.5,32,-30)),E.add(V(-15,32,-30)),E.add(V(22.5,32,-30)),e.scene.add(E),u=new Tu(e),h=new Pu(e),e.addAxis(),e.addStats(),j(),ke(),ae(),fe(),ce(),Be(),B(),q(),di(),pi(),Fe(),le()},D=()=>{const x=e.scene.getObjectByName("AmbientLight"),M=e.scene.getObjectByProperty("type","DirectionalLight"),E=e.scene.getObjectsByProperty("type","SpotLight");A.value===b.night?(v.setSkybox("night"),A.value="\u767D\u5929\u6A21\u5F0F",x.intensity=.3,M.visible=!1,E.forEach(O=>{O.visible=!0})):(v.setSkybox("day"),A.value="\u591C\u95F4\u6A21\u5F0F",x.intensity=1,M.visible=!0,E.forEach(O=>{O.visible=!1}))},j=()=>{const x=document.getElementById("videoContainer");x.src="/video/bi.mp4",x.autoplay="autoplay",x.loop="loop",x.muted="muted",p=new Aa(x)},V=(x,M,E)=>{const O=new ti,I=new Ci,z=new La(I);return O.add(I),O.add(z),O.add(I.target),I.position.set(x,M,E),I.target.position.set(x,M-2,E-1),I.penumbra=.8,I.visible=!1,z.visible=!1,O},B=()=>{u.loadModelToScene("/glb/ren.glb",x=>{x.openCastShadow(),x.object.position.set(13,0,15),x.object.name="\u4EBA",x.startAnimal(1),x.cloneModel([25,0,29]).startAnimal()})},q=()=>{u.loadModelToScene("/glb/lightpostDouble.glb",x=>{x.openCastShadow(),x.object.position.set(23,0,29),x.object.scale.set(1,3,1),x.object.name="\u8DEF\u706F",x.cloneModel([20,0,29]),x.cloneModel([17,0,29]),x.cloneModel([14,0,29]),x.cloneModel([9,0,29]),x.cloneModel([6,0,29])})},ae=()=>{u.loadModelToScene("/glb/city-v1.glb",x=>{x.object.name="cityv1",x.openCastShadow(),x.openReceiveShadow(),x.object.children.forEach(M=>{M.name==="Mesh26"&&(l=M,be.to(M.scale,{x:M.scale.x/8,duration:5,ease:"power1.inOut",onComplete:()=>{zo(),S.value=!0}}))}),c={fun:mi,content:t},e.addAnimate(c),x.object.clone()},x=>{x=Math.floor(x*100),P.value=x+"%",x===100&&(C.value=!1)},x=>{console.log("----\u52A0\u8F7Dcity-v1.glb\u62A5\u9519---",x)})},Be=()=>{u.loadModelToScene("/glb/billboard.glb",x=>{x.openCastShadow(),x.object.position.set(4,-20,-35),x.object.rotateY(-Math.PI/2),x.object.scale.set(2.7,2.7,2.7),x.object.name="\u5E7F\u544A\u724C";const M=x.object.getObjectByName("Object_6");M.material=new Gt({map:p,side:Mi,transparent:!0})})},fe=()=>{u.loadModelToScene("/glb/officeBuild.glb",x=>{r=x,r.openCastShadow(),r.openReceiveShadow(),r.object.rotation.y=Math.PI,r.object.position.set(16,0,-5),r.object.scale.set(.2,.2,.2),r.object.name="\u529E\u516C\u5927\u5385",r.object.children.forEach(E=>{E.name=E.name.replace("zuo",""),E.name==="ding"&&(E.name=6),E.name--}),r.object.children.sort((E,O)=>E.name-O.name).forEach(E=>{E.name="zuo"+E.name}),r.forEach(E=>{E.isMesh&&(E.frustumCulled=!1,E.material.emissive=E.material.color,E.material.emissiveMap=E.material.map,E.material.emissiveIntensity=1.2,E.material.envmap=e.scene.background)}),s=r.object.clone();const M=r.getBox();n=h.addCss2dLabel({x:M.max.x/2,y:M.max.y,z:M.max.z},`<span class="label">${x.object.name}</span>`),be.to(h.label.position,{y:M.max.y+2,repeat:-1,yoyo:!0,duration:2,ease:"Bounce.inOut"})})},Fe=()=>{e.startSelectEvent("mousemove",!1,x=>{var M,E;_&&e.stopSelectEvent(),((E=(M=x.parent)==null?void 0:M.parent)==null?void 0:E.name)==="\u529E\u516C\u5927\u5385"&&!f&&T.forEach(O=>{var I;if(O===x.parent.name){if(d=O,_===d)return;r.object.getObjectByName(O).traverse(z=>{z.isMesh&&(z.material=new $t({color:"yellow",transparent:!0,opacity:.8,emissive:z.material.color,emissiveMap:z.material.map,emissiveIntensity:3}))})}else if(!f){const z=s.getObjectByName(O);(I=r.object.getObjectByName(O))==null||I.traverse(K=>{K.isMesh&&(K.material=z.getObjectByName(K.name).material)})}})})},le=()=>{e.renderer.domElement.addEventListener("click",x=>{const M=new jn,E=new We;E.x=x.offsetX/e.renderer.domElement.clientWidth*2-1,E.y=-(x.offsetY/e.renderer.domElement.clientHeight)*2+1,M.setFromCamera(E,e.camera);const O=M.intersectObject(e.scene,!0);if(O.length>0&&d){const I=O[0].object.parent;if(I.name.includes("zuo"))f||(i.visible=!1,n.visible=!1,e.scene.children.find(z=>z.name==="\u5FEB\u9012\u8F66").visible=!1,e.scene.children.find(z=>z.name=="cityv1").visible=!1,e.scene.children.find(z=>z.name=="\u6811").visible=!1,y.forEach(z=>{e.scene.children.find(K=>K.name==z).traverse(K=>{K.material=new $t({color:new ie("rgba(7,32,96,0.76)"),transparent:!0,opacity:.1,wireframe:!0,depthWrite:!0})})}),be.to(e.scene.children.find(z=>z.name==="\u4EBA").rotation,{y:Math.PI,duration:2,ease:"power1.inOut",onComplete:()=>{f=!0}})),Ze(I);else if(!f){const z=s.getObjectByName(d);r.object.getObjectByName(d).traverse(function(K){K.isMesh&&(K.material=z.getObjectByName(K.name).material)})}}})},Ze=x=>{_=x.name;const M=s.getObjectByName(_);T.findIndex(O=>O===_)!==g&&(f?r.object.children.forEach((O,I)=>{I===g&&be.to(O.position,{z:O.position.z+40,duration:2,ease:"power1.inOut"}),O.name===_&&be.to(O.position,{z:O.position.z-40,duration:2,ease:"power1.inOut",onComplete:()=>{g=I}})}):r.object.children.forEach((O,I)=>{O.name===_&&O.children.forEach(z=>{z.material=M.getObjectByName(z.name).material}),I>0&&(f=!0,be.to(O.position,{y:O.position.y+I*10,duration:2,ease:"power1.inOut"}))}),be.to(e.controls.target,{x:12,y:0,z:-5,duration:2,ease:"power1.inOut",onComplete:()=>{}}))},ce=()=>{u.loadModelToScene("/glTF/laboratoryBuild.gltf",x=>{const M=[],E=[];x.object.traverse(K=>{K.updateMatrixWorld(!0),K.isMesh&&(K.geometry.applyMatrix4(K.matrixWorld),M.push(K.geometry),E.push(K.material))});const O=Ba(M,!0),I=new qe(O,E);x.object.remove(x.object.children[0]),x.object.add(I),I.castShadow=!0,I.receiveShadow=!0,x.object.rotateY(Math.PI/2),x.object.position.set(-17,0,5),x.object.scale.set(.7,.7,.7),x.object.name="\u5B9E\u9A8C\u697C",m=x.object.clone();const z=x.getBox();h.addCss2dLabel({x:z.max.x,y:z.max.y,z:z.max.z},`<span class="label">${x.object.name}</span>`),be.to(h.label.position,{y:z.max.y+2,repeat:-1,yoyo:!0,duration:2,ease:"Bounce.inOut"})})},ke=()=>{u.loadModelToScene("/glTF/car13.gltf",x=>{t=x,x.openCastShadow(),x.openReceiveShadow(),x.object.position.set(11.5,0,18),x.object.scale.set(1,1,1),x.object.name="\u5FEB\u9012\u8F66";const M=new Ci;x.object.add(M),x.object.add(M.target),M.angle=Math.PI/4,M.position.set(0,2,2),M.target.position.set(0,1,3),M.penumbra=.8,M.castShadow=!0,M.shadow.mapSize.width=1024,M.shadow.mapSize.height=1024,M.shadow.camera.near=.1,M.shadow.camera.far=100,M.shadow.camera.bias=.005,M.visible=!1;let E=x.getBox();i=h.addCss2dLabel({x:E.max.x,y:E.max.y+2,z:E.max.z},`<span class="label">${x.object.name}</span>`)})},di=()=>{u.loadModelToScene("glTF/tree_animate/new-scene.gltf",x=>{x.openCastShadow(),x.object.position.set(8,0,16),x.object.scale.set(.08,.08,.08),x.object.name="\u6811",x.startAnimal()})},pi=()=>{u.loadModelToScene("/glb/pool.glb",x=>{x.openCastShadow(),x.openReceiveShadow(),x.object.position.set(12,1,-16),x.object.scale.set(.6,.5,.6),x.object.name="\u6C34\u6C60";const M=new zn,E=x.object.getObjectByName("voda_0"),O=new ja(E.children[0].geometry,{textureWidth:512,textureHeight:512,color:15658751,flowDirection:new We(1,1),scale:1,normalMap0:M.load("/images/Water_1_M_Normal.jpg"),normalMap1:M.load("/images/Water_2_M_Normal.jpg")});O.name="\u52A8\u6001\u6C34",E.remove(E.children[0]),E.add(O)})},mi=x=>{if(o&&t)if(w<=1-pn){let M=x.object,E=x.getBox();i.position.set(E.max.x,E.max.y+2,E.max.z),M.position.z.toFixed(2)>=28&&M.position.z.toFixed(2)<=28.1&&(S.value?be.to(l.scale,{x:l.scale.x*8,duration:5,ease:"power1.inOut",onComplete:()=>{S.value=!1}}):be.to(l.scale,{x:l.scale.x/8,duration:5,ease:"power1.inOut",onComplete:()=>{S.value=!0,e.addAnimate(c)},onStart:()=>{e.removeAnimate(c)}}));const O=o.getPointAt(w),I=o.getPointAt(w+pn);if(O&&I){M.position.set(O.x,O.y,O.z),M.lookAt(I.x,I.y,I.z),k.value&&(e.camera.position.set(O.x,O.y+2,O.z),e.camera.lookAt(I.x,I.y+2,I.z));const z=22,K=new U;K.lookAt(M.position,I,M.up),K.multiply(new U().makeRotationFromEuler(new $e(0,z,0)));const Vo=new kt().setFromRotationMatrix(K);M.quaternion.slerp(Vo,.2)}w+=pn}else w=0},zo=()=>{o=new Ra([new Y(11.5,0,18),new Y(11.5,0,34),new Y(35,0,34),new Y(35,0,31),new Y(11.5,0,31)]),o.curveType="catmullrom",o.closed=!0,o.tension=0;const x=o.getPoints(.1),M=new At().setFromPoints(x),E=new os({color:16711680}),O=new as(M,E);O.position.y=-1,e.scene.add(O)},jo=()=>{be.to(e.camera.position,{x:17,y:10,z:52,duration:2,ease:"Bounce.inOut"}),be.to(e.scene.children.find(x=>x.name=="\u4EBA").rotation,{y:0,duration:2,ease:"power1.inOut"}),i.visible=!0,n.visible=!0,e.scene.children.find(x=>x.name==="\u5FEB\u9012\u8F66").visible=!0,e.scene.children.find(x=>x.name==="\u6811").visible=!0,e.scene.children.find(x=>x.name==="cityv1").visible=!0,e.scene.children[e.scene.children.findIndex(x=>x.name=="\u5B9E\u9A8C\u697C")]=m.clone(),e.scene.children[e.scene.children.findIndex(x=>x.name=="\u529E\u516C\u5927\u5385")]=r.object=s.clone(),_="",d=null,f=!1,g=null,Fe()};return(x,M)=>{const E=ol;return je(),ei(Zr,null,[C.value?(je(),ei("div",Cu,[M[0]||(M[0]=Ji(" \u6B63\u5728\u52A0\u8F7D\u6A21\u578B\u8BF7\u7A0D\u7B49\uFF1A")),St("span",Mu,ur(P.value),1),St("div",Eu,[St("div",{id:"jindu",style:na({width:P.value})},null,4)])])):_n("",!0),M[2]||(M[2]=St("video",{id:"videoContainer"},null,-1)),St("div",ku,null,512),St("div",Ou,[hr(E,{type:"warning",onClick:jo},{default:Yt(()=>M[1]||(M[1]=[Ji("\u573A\u666F\u91CD\u7F6E")])),_:1,__:[1]}),hr(E,{type:"warning",onClick:D},{default:Yt(()=>[Ji(ur(A.value),1)]),_:1})])],64)}}},zu=ta(Du,[["__scopeId","data-v-a27be972"]]);export{zu as default};
