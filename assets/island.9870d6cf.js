import{S as L,P as x,W as M,aq as v,T as f,q as k,a as b,ar as W,E as D,D as G,as as E,h as C}from"./three.module.52e72b23.js";import{O as R}from"./OrbitControls.8f993dfc.js";import{G as T}from"./GLTFLoader.c32b3780.js";import{W as j,D as B}from"./DRACOLoader.330b7191.js";import{R as P}from"./RGBELoader.548abde2.js";import{_ as q,r as A,a as H,o as O,c as S}from"./index.a3465ef0.js";const V={__name:"island",setup(F){const a=new L,n=new x(75,window.innerWidth/window.innerHeight,.1,2e3);n.position.set(-50,50,130),n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix(),a.add(n);const o=new M({antialias:!0,logarithmicDepthBuffer:!0});o.setSize(window.innerWidth,window.innerHeight);const d=()=>{o.render(a,n),requestAnimationFrame(d)},t=A();H(()=>{const e=new R(n,t.value);e.enableDamping=!0,h(),t.value.appendChild(o.domElement),d()});const c=new v(1e3,60,60),_=new f().load("/images/sky.jpg"),r=new k({map:_});c.scale(1,1,-1);const u=new b(c,r);a.add(u);const h=()=>{const e=document.createElement("video");e.src="/video/sky.mp4",e.loop=!0,window.addEventListener("click",i=>{if(e.paused){e.play();const y=new W(e);r.map=y,r.map.needsUpdate=!0}})};new P().loadAsync("/hdr/050.hdr").then(e=>{e.mapping=D,a.background=e,a.environment=e});const l=new G(16777215,1);l.position.set(-100,100,10),a.add(l);const g=new E(300,64),p=new f,s=new j(g,{textureWidth:1024,textureHeight:1024,color:15658751,flowDirection:new C(1,1),scale:2,normalMap0:p.load("/images/Water_1_M_Normal.jpg"),normalMap1:p.load("/images/Water_2_M_Normal.jpg")});s.position.y=3,s.rotation.x=-Math.PI/2,a.add(s);const m=new T,w=new B;return w.setDecoderPath("/js/draco/"),m.setDRACOLoader(w),m.load("/glb/island2.glb",e=>{const i=e.scene;a.add(i)}),(e,i)=>(O(),S("div",{class:"container",ref_key:"container",ref:t},null,512))}},X=q(V,[["__scopeId","data-v-bb56ffa3"]]);export{X as default};
